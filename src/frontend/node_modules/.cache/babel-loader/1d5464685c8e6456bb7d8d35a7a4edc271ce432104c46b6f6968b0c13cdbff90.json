{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useEditor}from'../../hooks/useEditor';import{useWebSocket}from'../../hooks/useWebSocket';import{Smartphone,Watch,RefreshCw,AlertCircle,ZoomIn,ZoomOut,RotateCcw}from'lucide-react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const PreviewPane=()=>{const{state,generatePreview}=useEditor();const{isConnected,error}=useWebSocket();const[deviceType,setDeviceType]=useState('iphone');const[zoomLevel,setZoomLevel]=useState(1);const[isRotated,setIsRotated]=useState(false);// Auto-refresh preview when template changes\nuseEffect(()=>{if(state.isDirty&&isConnected){const passData={campaignId:'550e8400-e29b-41d4-a716-446655440001',campaignName:'Demo Campaign',tenantName:'MKTR Platform',customerEmail:'demo@mktr.sg',customerName:'John Doe',stampsEarned:7,stampsRequired:10,pointsEarned:150,spendAmount:10,nextReward:'Free coffee at 10 stamps',membershipTier:'Gold',expiryDate:'2024-12-31'};generatePreview(passData);}},[state.currentTemplate,isConnected,generatePreview,state.isDirty]);const handleRefreshPreview=()=>{const passData={campaignId:'550e8400-e29b-41d4-a716-446655440001',campaignName:'Demo Campaign',tenantName:'MKTR Platform',customerEmail:'demo@mktr.sg',customerName:'John Doe',stampsEarned:7,stampsRequired:10,pointsEarned:150,spendAmount:10,nextReward:'Free coffee at 10 stamps',membershipTier:'Gold',expiryDate:'2024-12-31'};generatePreview(passData);};const handleZoomIn=()=>{setZoomLevel(prev=>Math.min(prev+0.25,2));};const handleZoomOut=()=>{setZoomLevel(prev=>Math.max(prev-0.25,0.5));};const handleResetZoom=()=>{setZoomLevel(1);setIsRotated(false);};const renderPassPreview=()=>{var _passJson$storeCard,_passJson$storeCard$p,_passJson$storeCard2,_passJson$storeCard2$,_passJson$storeCard3,_passJson$storeCard3$;if(!state.previewData){return/*#__PURE__*/_jsxs(\"div\",{className:\"text-center text-gray-500\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"mb-4\",children:/*#__PURE__*/_jsx(Smartphone,{className:\"w-16 h-16 mx-auto text-gray-300\"})}),/*#__PURE__*/_jsx(\"p\",{className:\"text-lg font-medium\",children:\"No preview available\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm\",children:\"Start editing fields to see a preview\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleRefreshPreview,className:\"mt-4 btn-primary\",children:\"Generate Preview\"})]});}const{passJson,images}=state.previewData;const isWatch=deviceType==='apple-watch';return/*#__PURE__*/_jsxs(\"div\",{className:\"preview-device \".concat(isWatch?'watch':''),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"pass-header\",style:{backgroundColor:passJson.backgroundColor},children:[images.logo&&/*#__PURE__*/_jsx(\"img\",{src:images.logo,alt:\"Logo\",className:\"w-8 h-8 mx-auto mb-2\"}),/*#__PURE__*/_jsx(\"h2\",{className:\"text-lg font-bold\",style:{color:passJson.foregroundColor},children:passJson.logoText})]}),((_passJson$storeCard=passJson.storeCard)===null||_passJson$storeCard===void 0?void 0:(_passJson$storeCard$p=_passJson$storeCard.primaryFields)===null||_passJson$storeCard$p===void 0?void 0:_passJson$storeCard$p.length)>0&&/*#__PURE__*/_jsx(\"div\",{className:\"pass-primary\",style:{backgroundColor:passJson.backgroundColor},children:passJson.storeCard.primaryFields.map((field,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm\",style:{color:passJson.labelColor},children:field.label}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold\",style:{color:passJson.foregroundColor},children:field.value})]},index))}),images.strip&&/*#__PURE__*/_jsx(\"div\",{className:\"pass-strip\",style:{backgroundImage:\"url(\".concat(images.strip,\")\")}}),((_passJson$storeCard2=passJson.storeCard)===null||_passJson$storeCard2===void 0?void 0:(_passJson$storeCard2$=_passJson$storeCard2.secondaryFields)===null||_passJson$storeCard2$===void 0?void 0:_passJson$storeCard2$.length)>0&&/*#__PURE__*/_jsx(\"div\",{className:\"pass-secondary\",style:{backgroundColor:passJson.backgroundColor},children:passJson.storeCard.secondaryFields.map((field,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-xs\",style:{color:passJson.labelColor},children:field.label}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium\",style:{color:passJson.foregroundColor},children:field.value})]},index))}),((_passJson$storeCard3=passJson.storeCard)===null||_passJson$storeCard3===void 0?void 0:(_passJson$storeCard3$=_passJson$storeCard3.auxiliaryFields)===null||_passJson$storeCard3$===void 0?void 0:_passJson$storeCard3$.length)>0&&/*#__PURE__*/_jsx(\"div\",{className:\"pass-auxiliary\",style:{backgroundColor:passJson.backgroundColor},children:passJson.storeCard.auxiliaryFields.map((field,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-xs\",style:{color:passJson.labelColor},children:field.label}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm\",style:{color:passJson.foregroundColor},children:field.value})]},index))}),/*#__PURE__*/_jsx(\"div\",{className:\"pass-qr\",style:{backgroundColor:passJson.backgroundColor},children:/*#__PURE__*/_jsx(\"div\",{className:\"w-16 h-16 bg-white rounded-lg flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"w-12 h-12 bg-gray-200 rounded flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-xs text-gray-600\",children:\"QR\"})})})})]});};return/*#__PURE__*/_jsxs(\"div\",{className:\"h-full flex flex-col\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-4 border-b border-gray-200 bg-white\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-800\",children:\"Preview\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex bg-gray-100 rounded-lg p-1\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setDeviceType('iphone'),className:\"px-3 py-1 rounded-md text-sm font-medium transition-colors \".concat(deviceType==='iphone'?'bg-white text-gray-900 shadow-sm':'text-gray-600 hover:text-gray-900'),children:[/*#__PURE__*/_jsx(Smartphone,{className:\"w-4 h-4 inline mr-1\"}),\"iPhone\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setDeviceType('apple-watch'),className:\"px-3 py-1 rounded-md text-sm font-medium transition-colors \".concat(deviceType==='apple-watch'?'bg-white text-gray-900 shadow-sm':'text-gray-600 hover:text-gray-900'),children:[/*#__PURE__*/_jsx(Watch,{className:\"w-4 h-4 inline mr-1\"}),\"Watch\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-1\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleZoomOut,disabled:zoomLevel<=0.5,className:\"p-1 hover:bg-gray-100 rounded disabled:opacity-50 disabled:cursor-not-allowed\",title:\"Zoom out\",children:/*#__PURE__*/_jsx(ZoomOut,{className:\"w-4 h-4\"})}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm text-gray-600 min-w-12 text-center\",children:[Math.round(zoomLevel*100),\"%\"]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleZoomIn,disabled:zoomLevel>=2,className:\"p-1 hover:bg-gray-100 rounded disabled:opacity-50 disabled:cursor-not-allowed\",title:\"Zoom in\",children:/*#__PURE__*/_jsx(ZoomIn,{className:\"w-4 h-4\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:handleResetZoom,className:\"p-1 hover:bg-gray-100 rounded\",title:\"Reset zoom\",children:/*#__PURE__*/_jsx(RotateCcw,{className:\"w-4 h-4\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"w-px h-6 bg-gray-300\"}),!isConnected&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-1 text-orange-600\",children:[/*#__PURE__*/_jsx(AlertCircle,{className:\"w-4 h-4\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm\",children:\"Disconnected\"})]}),error&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-1 text-red-600\",children:[/*#__PURE__*/_jsx(AlertCircle,{className:\"w-4 h-4\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm\",children:error})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:handleRefreshPreview,disabled:state.isLoading,className:\"btn-secondary flex items-center space-x-1\",children:[/*#__PURE__*/_jsx(RefreshCw,{className:\"w-4 h-4 \".concat(state.isLoading?'animate-spin':'')}),/*#__PURE__*/_jsx(\"span\",{children:\"Refresh\"})]})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"flex-1 flex items-center justify-center p-8 overflow-auto\",children:state.isLoading?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"loading-spinner mx-auto mb-4\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"Generating preview...\"})]}):/*#__PURE__*/_jsx(\"div\",{className:\"transform transition-transform duration-200\",style:{transform:\"scale(\".concat(zoomLevel,\") \").concat(isRotated?'rotate(90deg)':''),transformOrigin:'center'},children:renderPassPreview()})}),state.validation&&(state.validation.errors.length>0||state.validation.warnings.length>0)&&/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 border-t border-gray-200 bg-white max-h-32 overflow-y-auto\",children:[state.validation.errors.map((error,index)=>/*#__PURE__*/_jsx(\"div\",{className:\"validation-error\",children:error},index)),state.validation.warnings.map((warning,index)=>/*#__PURE__*/_jsx(\"div\",{className:\"validation-warning\",children:warning},index))]})]});};export default PreviewPane;","map":{"version":3,"names":["React","useState","useEffect","useEditor","useWebSocket","Smartphone","Watch","RefreshCw","AlertCircle","ZoomIn","ZoomOut","RotateCcw","jsx","_jsx","jsxs","_jsxs","PreviewPane","state","generatePreview","isConnected","error","deviceType","setDeviceType","zoomLevel","setZoomLevel","isRotated","setIsRotated","isDirty","passData","campaignId","campaignName","tenantName","customerEmail","customerName","stampsEarned","stampsRequired","pointsEarned","spendAmount","nextReward","membershipTier","expiryDate","currentTemplate","handleRefreshPreview","handleZoomIn","prev","Math","min","handleZoomOut","max","handleResetZoom","renderPassPreview","_passJson$storeCard","_passJson$storeCard$p","_passJson$storeCard2","_passJson$storeCard2$","_passJson$storeCard3","_passJson$storeCard3$","previewData","className","children","onClick","passJson","images","isWatch","concat","style","backgroundColor","logo","src","alt","color","foregroundColor","logoText","storeCard","primaryFields","length","map","field","index","labelColor","label","value","strip","backgroundImage","secondaryFields","auxiliaryFields","disabled","title","round","isLoading","transform","transformOrigin","validation","errors","warnings","warning"],"sources":["/Users/shawnlee/Documents/GitHub/passes-mktr/src/frontend/src/components/preview/PreviewPane.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useEditor } from '../../hooks/useEditor';\nimport { useWebSocket } from '../../hooks/useWebSocket';\nimport { Smartphone, Watch, RefreshCw, AlertCircle, ZoomIn, ZoomOut, RotateCcw } from 'lucide-react';\n\nconst PreviewPane: React.FC = () => {\n  const { state, generatePreview } = useEditor();\n  const { isConnected, error } = useWebSocket();\n  const [deviceType, setDeviceType] = useState<'iphone' | 'apple-watch'>('iphone');\n  const [zoomLevel, setZoomLevel] = useState(1);\n  const [isRotated, setIsRotated] = useState(false);\n\n  // Auto-refresh preview when template changes\n  useEffect(() => {\n    if (state.isDirty && isConnected) {\n      const passData = {\n        campaignId: '550e8400-e29b-41d4-a716-446655440001',\n        campaignName: 'Demo Campaign',\n        tenantName: 'MKTR Platform',\n        customerEmail: 'demo@mktr.sg',\n        customerName: 'John Doe',\n        stampsEarned: 7,\n        stampsRequired: 10,\n        pointsEarned: 150,\n        spendAmount: 10,\n        nextReward: 'Free coffee at 10 stamps',\n        membershipTier: 'Gold',\n        expiryDate: '2024-12-31'\n      };\n      \n      generatePreview(passData);\n    }\n  }, [state.currentTemplate, isConnected, generatePreview, state.isDirty]);\n\n  const handleRefreshPreview = () => {\n    const passData = {\n      campaignId: '550e8400-e29b-41d4-a716-446655440001',\n      campaignName: 'Demo Campaign',\n      tenantName: 'MKTR Platform',\n      customerEmail: 'demo@mktr.sg',\n      customerName: 'John Doe',\n      stampsEarned: 7,\n      stampsRequired: 10,\n      pointsEarned: 150,\n      spendAmount: 10,\n      nextReward: 'Free coffee at 10 stamps',\n      membershipTier: 'Gold',\n      expiryDate: '2024-12-31'\n    };\n    \n    generatePreview(passData);\n  };\n\n  const handleZoomIn = () => {\n    setZoomLevel(prev => Math.min(prev + 0.25, 2));\n  };\n\n  const handleZoomOut = () => {\n    setZoomLevel(prev => Math.max(prev - 0.25, 0.5));\n  };\n\n  const handleResetZoom = () => {\n    setZoomLevel(1);\n    setIsRotated(false);\n  };\n\n  const renderPassPreview = () => {\n    if (!state.previewData) {\n      return (\n        <div className=\"text-center text-gray-500\">\n          <div className=\"mb-4\">\n            <Smartphone className=\"w-16 h-16 mx-auto text-gray-300\" />\n          </div>\n          <p className=\"text-lg font-medium\">No preview available</p>\n          <p className=\"text-sm\">Start editing fields to see a preview</p>\n          <button\n            onClick={handleRefreshPreview}\n            className=\"mt-4 btn-primary\"\n          >\n            Generate Preview\n          </button>\n        </div>\n      );\n    }\n\n    const { passJson, images } = state.previewData;\n    const isWatch = deviceType === 'apple-watch';\n\n    return (\n      <div className={`preview-device ${isWatch ? 'watch' : ''}`}>\n        {/* Pass Header */}\n        <div className=\"pass-header\" style={{ backgroundColor: passJson.backgroundColor }}>\n          {images.logo && (\n            <img \n              src={images.logo} \n              alt=\"Logo\" \n              className=\"w-8 h-8 mx-auto mb-2\"\n            />\n          )}\n          <h2 className=\"text-lg font-bold\" style={{ color: passJson.foregroundColor }}>\n            {passJson.logoText}\n          </h2>\n        </div>\n\n        {/* Pass Primary Fields */}\n        {passJson.storeCard?.primaryFields?.length > 0 && (\n          <div className=\"pass-primary\" style={{ backgroundColor: passJson.backgroundColor }}>\n            {passJson.storeCard.primaryFields.map((field: any, index: number) => (\n              <div key={index} className=\"text-center\">\n                <p className=\"text-sm\" style={{ color: passJson.labelColor }}>\n                  {field.label}\n                </p>\n                <p className=\"text-2xl font-bold\" style={{ color: passJson.foregroundColor }}>\n                  {field.value}\n                </p>\n              </div>\n            ))}\n          </div>\n        )}\n\n        {/* Pass Strip */}\n        {images.strip && (\n          <div className=\"pass-strip\" style={{ backgroundImage: `url(${images.strip})` }}>\n          </div>\n        )}\n\n        {/* Pass Secondary Fields */}\n        {passJson.storeCard?.secondaryFields?.length > 0 && (\n          <div className=\"pass-secondary\" style={{ backgroundColor: passJson.backgroundColor }}>\n            {passJson.storeCard.secondaryFields.map((field: any, index: number) => (\n              <div key={index} className=\"flex-1\">\n                <p className=\"text-xs\" style={{ color: passJson.labelColor }}>\n                  {field.label}\n                </p>\n                <p className=\"text-sm font-medium\" style={{ color: passJson.foregroundColor }}>\n                  {field.value}\n                </p>\n              </div>\n            ))}\n          </div>\n        )}\n\n        {/* Pass Auxiliary Fields */}\n        {passJson.storeCard?.auxiliaryFields?.length > 0 && (\n          <div className=\"pass-auxiliary\" style={{ backgroundColor: passJson.backgroundColor }}>\n            {passJson.storeCard.auxiliaryFields.map((field: any, index: number) => (\n              <div key={index} className=\"text-center\">\n                <p className=\"text-xs\" style={{ color: passJson.labelColor }}>\n                  {field.label}\n                </p>\n                <p className=\"text-sm\" style={{ color: passJson.foregroundColor }}>\n                  {field.value}\n                </p>\n              </div>\n            ))}\n          </div>\n        )}\n\n        {/* QR Code */}\n        <div className=\"pass-qr\" style={{ backgroundColor: passJson.backgroundColor }}>\n          <div className=\"w-16 h-16 bg-white rounded-lg flex items-center justify-center\">\n            <div className=\"w-12 h-12 bg-gray-200 rounded flex items-center justify-center\">\n              <span className=\"text-xs text-gray-600\">QR</span>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  };\n\n  return (\n    <div className=\"h-full flex flex-col\">\n      {/* Preview Header */}\n      <div className=\"p-4 border-b border-gray-200 bg-white\">\n        <div className=\"flex items-center justify-between\">\n          <div className=\"flex items-center space-x-4\">\n            <h3 className=\"text-lg font-semibold text-gray-800\">Preview</h3>\n            \n            {/* Device Type Toggle */}\n            <div className=\"flex bg-gray-100 rounded-lg p-1\">\n              <button\n                onClick={() => setDeviceType('iphone')}\n                className={`px-3 py-1 rounded-md text-sm font-medium transition-colors ${\n                  deviceType === 'iphone'\n                    ? 'bg-white text-gray-900 shadow-sm'\n                    : 'text-gray-600 hover:text-gray-900'\n                }`}\n              >\n                <Smartphone className=\"w-4 h-4 inline mr-1\" />\n                iPhone\n              </button>\n              <button\n                onClick={() => setDeviceType('apple-watch')}\n                className={`px-3 py-1 rounded-md text-sm font-medium transition-colors ${\n                  deviceType === 'apple-watch'\n                    ? 'bg-white text-gray-900 shadow-sm'\n                    : 'text-gray-600 hover:text-gray-900'\n                }`}\n              >\n                <Watch className=\"w-4 h-4 inline mr-1\" />\n                Watch\n              </button>\n            </div>\n          </div>\n\n          <div className=\"flex items-center space-x-4\">\n            {/* Zoom Controls */}\n            <div className=\"flex items-center space-x-1\">\n              <button\n                onClick={handleZoomOut}\n                disabled={zoomLevel <= 0.5}\n                className=\"p-1 hover:bg-gray-100 rounded disabled:opacity-50 disabled:cursor-not-allowed\"\n                title=\"Zoom out\"\n              >\n                <ZoomOut className=\"w-4 h-4\" />\n              </button>\n              <span className=\"text-sm text-gray-600 min-w-12 text-center\">\n                {Math.round(zoomLevel * 100)}%\n              </span>\n              <button\n                onClick={handleZoomIn}\n                disabled={zoomLevel >= 2}\n                className=\"p-1 hover:bg-gray-100 rounded disabled:opacity-50 disabled:cursor-not-allowed\"\n                title=\"Zoom in\"\n              >\n                <ZoomIn className=\"w-4 h-4\" />\n              </button>\n              <button\n                onClick={handleResetZoom}\n                className=\"p-1 hover:bg-gray-100 rounded\"\n                title=\"Reset zoom\"\n              >\n                <RotateCcw className=\"w-4 h-4\" />\n              </button>\n            </div>\n\n            <div className=\"w-px h-6 bg-gray-300\"></div>\n\n            {/* Connection Status */}\n            {!isConnected && (\n              <div className=\"flex items-center space-x-1 text-orange-600\">\n                <AlertCircle className=\"w-4 h-4\" />\n                <span className=\"text-sm\">Disconnected</span>\n              </div>\n            )}\n            \n            {error && (\n              <div className=\"flex items-center space-x-1 text-red-600\">\n                <AlertCircle className=\"w-4 h-4\" />\n                <span className=\"text-sm\">{error}</span>\n              </div>\n            )}\n\n            <button\n              onClick={handleRefreshPreview}\n              disabled={state.isLoading}\n              className=\"btn-secondary flex items-center space-x-1\"\n            >\n              <RefreshCw className={`w-4 h-4 ${state.isLoading ? 'animate-spin' : ''}`} />\n              <span>Refresh</span>\n            </button>\n          </div>\n        </div>\n      </div>\n\n      {/* Preview Content */}\n      <div className=\"flex-1 flex items-center justify-center p-8 overflow-auto\">\n        {state.isLoading ? (\n          <div className=\"text-center\">\n            <div className=\"loading-spinner mx-auto mb-4\"></div>\n            <p className=\"text-gray-600\">Generating preview...</p>\n          </div>\n        ) : (\n          <div \n            className=\"transform transition-transform duration-200\"\n            style={{ \n              transform: `scale(${zoomLevel}) ${isRotated ? 'rotate(90deg)' : ''}`,\n              transformOrigin: 'center'\n            }}\n          >\n            {renderPassPreview()}\n          </div>\n        )}\n      </div>\n\n      {/* Validation Messages */}\n      {state.validation && (state.validation.errors.length > 0 || state.validation.warnings.length > 0) && (\n        <div className=\"p-4 border-t border-gray-200 bg-white max-h-32 overflow-y-auto\">\n          {state.validation.errors.map((error, index) => (\n            <div key={index} className=\"validation-error\">\n              {error}\n            </div>\n          ))}\n          {state.validation.warnings.map((warning, index) => (\n            <div key={index} className=\"validation-warning\">\n              {warning}\n            </div>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default PreviewPane;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}