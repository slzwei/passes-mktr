{"ast":null,"code":"import _objectSpread from\"/Users/shawnlee/Documents/GitHub/passes-mktr/src/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{createContext,useContext,useReducer,useEffect,useCallback}from'react';import{useWebSocket}from'./useWebSocket';import{jsx as _jsx}from\"react/jsx-runtime\";const EditorContext=/*#__PURE__*/createContext(undefined);const initialState={currentTemplate:{id:'',name:'New Pass Template',type:'redemption',fields:{header:[],primary:[],secondary:[],auxiliary:[],back:[]},colors:{foreground:'rgb(255, 255, 255)',background:'rgb(60, 65, 76)',label:'rgb(255, 255, 255)'},images:{logo:null,icon:null,strip:null}},previewData:null,validation:{isValid:true,errors:[],warnings:[]},isDirty:false,isLoading:false,selectedFieldType:null,selectedFieldIndex:null};function editorReducer(state,action){switch(action.type){case'UPDATE_TEMPLATE':return _objectSpread(_objectSpread({},state),{},{currentTemplate:_objectSpread(_objectSpread({},state.currentTemplate),action.payload),isDirty:true});case'UPDATE_FIELD':const{fieldType,fieldIndex,field}=action.payload;const updatedFields=_objectSpread({},state.currentTemplate.fields);updatedFields[fieldType]=[...updatedFields[fieldType]];updatedFields[fieldType][fieldIndex]=_objectSpread(_objectSpread({},updatedFields[fieldType][fieldIndex]),field);return _objectSpread(_objectSpread({},state),{},{currentTemplate:_objectSpread(_objectSpread({},state.currentTemplate),{},{fields:updatedFields}),isDirty:true});case'ADD_FIELD':const{fieldType:addFieldType,field:newField}=action.payload;const addFields=_objectSpread({},state.currentTemplate.fields);addFields[addFieldType]=[...addFields[addFieldType],newField];return _objectSpread(_objectSpread({},state),{},{currentTemplate:_objectSpread(_objectSpread({},state.currentTemplate),{},{fields:addFields}),isDirty:true});case'REMOVE_FIELD':const{fieldType:removeFieldType,fieldIndex:removeIndex}=action.payload;const removeFields=_objectSpread({},state.currentTemplate.fields);removeFields[removeFieldType]=removeFields[removeFieldType].filter((_,index)=>index!==removeIndex);return _objectSpread(_objectSpread({},state),{},{currentTemplate:_objectSpread(_objectSpread({},state.currentTemplate),{},{fields:removeFields}),isDirty:true});case'UPDATE_COLORS':return _objectSpread(_objectSpread({},state),{},{currentTemplate:_objectSpread(_objectSpread({},state.currentTemplate),{},{colors:_objectSpread(_objectSpread({},state.currentTemplate.colors),action.payload)}),isDirty:true});case'UPDATE_IMAGES':return _objectSpread(_objectSpread({},state),{},{currentTemplate:_objectSpread(_objectSpread({},state.currentTemplate),{},{images:_objectSpread(_objectSpread({},state.currentTemplate.images),action.payload)}),isDirty:true});case'SET_SELECTED_FIELD':return _objectSpread(_objectSpread({},state),{},{selectedFieldType:action.payload.fieldType,selectedFieldIndex:action.payload.fieldIndex});case'CLEAR_SELECTION':return _objectSpread(_objectSpread({},state),{},{selectedFieldType:null,selectedFieldIndex:null});case'SET_PREVIEW_DATA':return _objectSpread(_objectSpread({},state),{},{previewData:action.payload,isLoading:false});case'SET_LOADING':return _objectSpread(_objectSpread({},state),{},{isLoading:action.payload});case'SET_VALIDATION':return _objectSpread(_objectSpread({},state),{},{validation:action.payload});case'SET_DIRTY':return _objectSpread(_objectSpread({},state),{},{isDirty:action.payload});case'LOAD_TEMPLATE':return _objectSpread(_objectSpread({},state),{},{currentTemplate:action.payload,isDirty:false});default:return state;}}export function EditorProvider(_ref){let{children}=_ref;const[state,dispatch]=useReducer(editorReducer,initialState);const{socket,isConnected}=useWebSocket();// WebSocket event handlers\nuseEffect(()=>{if(!socket)return;const handlePreviewUpdated=data=>{dispatch({type:'SET_PREVIEW_DATA',payload:data.preview});dispatch({type:'SET_VALIDATION',payload:data.validation});};const handlePreviewLoading=data=>{dispatch({type:'SET_LOADING',payload:data.isLoading});};const handlePreviewError=error=>{console.error('Preview error:',error);dispatch({type:'SET_LOADING',payload:false});};socket.on('preview-updated',handlePreviewUpdated);socket.on('preview-loading',handlePreviewLoading);socket.on('preview-error',handlePreviewError);return()=>{socket.off('preview-updated',handlePreviewUpdated);socket.off('preview-loading',handlePreviewLoading);socket.off('preview-error',handlePreviewError);};},[socket]);const updateTemplate=useCallback(template=>{dispatch({type:'UPDATE_TEMPLATE',payload:template});if(socket&&isConnected){socket.emit('update-template',{template:_objectSpread(_objectSpread({},state.currentTemplate),template),passData:getDefaultPassData()});}},[socket,isConnected,state.currentTemplate]);const updateField=useCallback((fieldType,fieldIndex,field)=>{dispatch({type:'UPDATE_FIELD',payload:{fieldType,fieldIndex,field}});if(socket&&isConnected){socket.emit('update-field',{fieldType,fieldIndex,field,template:state.currentTemplate,passData:getDefaultPassData()});}},[socket,isConnected,state.currentTemplate]);const addField=useCallback((fieldType,field)=>{dispatch({type:'ADD_FIELD',payload:{fieldType,field}});if(socket&&isConnected){socket.emit('update-template',{template:state.currentTemplate,passData:getDefaultPassData()});}},[socket,isConnected,state.currentTemplate]);const removeField=useCallback((fieldType,fieldIndex)=>{dispatch({type:'REMOVE_FIELD',payload:{fieldType,fieldIndex}});if(socket&&isConnected){socket.emit('update-template',{template:state.currentTemplate,passData:getDefaultPassData()});}},[socket,isConnected,state.currentTemplate]);const updateColors=useCallback(colors=>{dispatch({type:'UPDATE_COLORS',payload:colors});if(socket&&isConnected){socket.emit('update-colors',{colors,template:state.currentTemplate,passData:getDefaultPassData()});}},[socket,isConnected,state.currentTemplate]);const updateImages=useCallback(images=>{dispatch({type:'UPDATE_IMAGES',payload:images});if(socket&&isConnected){socket.emit('update-images',{images,template:state.currentTemplate,passData:getDefaultPassData()});}},[socket,isConnected,state.currentTemplate]);const setSelectedField=useCallback((fieldType,fieldIndex)=>{dispatch({type:'SET_SELECTED_FIELD',payload:{fieldType,fieldIndex}});},[]);const clearSelection=useCallback(()=>{dispatch({type:'CLEAR_SELECTION'});},[]);const undo=useCallback(()=>{if(socket&&isConnected){socket.emit('undo');}},[socket,isConnected]);const redo=useCallback(()=>{if(socket&&isConnected){socket.emit('redo');}},[socket,isConnected]);const generatePreview=useCallback(passData=>{if(socket&&isConnected){dispatch({type:'SET_LOADING',payload:true});socket.emit('update-preview',{template:state.currentTemplate,passData});}},[socket,isConnected,state.currentTemplate]);const validateTemplate=useCallback(()=>{if(socket&&isConnected){socket.emit('validate-template',{template:state.currentTemplate});}},[socket,isConnected,state.currentTemplate]);const canUndo=false;// TODO: Implement undo/redo state tracking\nconst canRedo=false;const value={state,updateTemplate,updateField,addField,removeField,updateColors,updateImages,setSelectedField,clearSelection,undo,redo,canUndo,canRedo,generatePreview,validateTemplate};return/*#__PURE__*/_jsx(EditorContext.Provider,{value:value,children:children});}export function useEditor(){const context=useContext(EditorContext);if(context===undefined){throw new Error('useEditor must be used within an EditorProvider');}return context;}// Helper function to get default pass data\nfunction getDefaultPassData(){return{campaignId:'550e8400-e29b-41d4-a716-446655440001',campaignName:'Demo Campaign',tenantName:'MKTR Platform',customerEmail:'demo@mktr.sg',customerName:'John Doe',stampsEarned:7,stampsRequired:10,pointsEarned:150,spendAmount:10,nextReward:'Free coffee at 10 stamps',membershipTier:'Gold',expiryDate:'2024-12-31'};}","map":{"version":3,"names":["React","createContext","useContext","useReducer","useEffect","useCallback","useWebSocket","jsx","_jsx","EditorContext","undefined","initialState","currentTemplate","id","name","type","fields","header","primary","secondary","auxiliary","back","colors","foreground","background","label","images","logo","icon","strip","previewData","validation","isValid","errors","warnings","isDirty","isLoading","selectedFieldType","selectedFieldIndex","editorReducer","state","action","_objectSpread","payload","fieldType","fieldIndex","field","updatedFields","addFieldType","newField","addFields","removeFieldType","removeIndex","removeFields","filter","_","index","EditorProvider","_ref","children","dispatch","socket","isConnected","handlePreviewUpdated","data","preview","handlePreviewLoading","handlePreviewError","error","console","on","off","updateTemplate","template","emit","passData","getDefaultPassData","updateField","addField","removeField","updateColors","updateImages","setSelectedField","clearSelection","undo","redo","generatePreview","validateTemplate","canUndo","canRedo","value","Provider","useEditor","context","Error","campaignId","campaignName","tenantName","customerEmail","customerName","stampsEarned","stampsRequired","pointsEarned","spendAmount","nextReward","membershipTier","expiryDate"],"sources":["/Users/shawnlee/Documents/GitHub/passes-mktr/src/frontend/src/hooks/useEditor.tsx"],"sourcesContent":["import React, { createContext, useContext, useReducer, useEffect, useCallback } from 'react';\nimport { EditorState, PassTemplate, PassData, ValidationResult, FieldConfiguration, Field, ColorConfiguration, ImageConfiguration, PassPreview } from '../types/passTypes';\nimport { useWebSocket } from './useWebSocket';\n\ninterface EditorContextType {\n  state: EditorState;\n  updateTemplate: (template: Partial<PassTemplate>) => void;\n  updateField: (fieldType: keyof FieldConfiguration, fieldIndex: number, field: Field) => void;\n  addField: (fieldType: keyof FieldConfiguration, field: Field) => void;\n  removeField: (fieldType: keyof FieldConfiguration, fieldIndex: number) => void;\n  updateColors: (colors: Partial<any>) => void;\n  updateImages: (images: Partial<any>) => void;\n  setSelectedField: (fieldType: keyof FieldConfiguration, fieldIndex: number) => void;\n  clearSelection: () => void;\n  undo: () => void;\n  redo: () => void;\n  canUndo: boolean;\n  canRedo: boolean;\n  generatePreview: (passData: PassData) => void;\n  validateTemplate: () => void;\n}\n\nconst EditorContext = createContext<EditorContextType | undefined>(undefined);\n\nconst initialState: EditorState = {\n  currentTemplate: {\n    id: '',\n    name: 'New Pass Template',\n    type: 'redemption',\n    fields: {\n      header: [],\n      primary: [],\n      secondary: [],\n      auxiliary: [],\n      back: []\n    },\n    colors: {\n      foreground: 'rgb(255, 255, 255)',\n      background: 'rgb(60, 65, 76)',\n      label: 'rgb(255, 255, 255)'\n    },\n    images: {\n      logo: null,\n      icon: null,\n      strip: null\n    }\n  },\n  previewData: null,\n  validation: {\n    isValid: true,\n    errors: [],\n    warnings: []\n  },\n  isDirty: false,\n  isLoading: false,\n  selectedFieldType: null,\n  selectedFieldIndex: null\n};\n\ntype EditorAction =\n  | { type: 'UPDATE_TEMPLATE'; payload: Partial<PassTemplate> }\n  | { type: 'UPDATE_FIELD'; payload: { fieldType: keyof FieldConfiguration; fieldIndex: number; field: Field } }\n  | { type: 'ADD_FIELD'; payload: { fieldType: keyof FieldConfiguration; field: Field } }\n  | { type: 'REMOVE_FIELD'; payload: { fieldType: keyof FieldConfiguration; fieldIndex: number } }\n  | { type: 'UPDATE_COLORS'; payload: Partial<ColorConfiguration> }\n  | { type: 'UPDATE_IMAGES'; payload: Partial<ImageConfiguration> }\n  | { type: 'SET_SELECTED_FIELD'; payload: { fieldType: keyof FieldConfiguration; fieldIndex: number } }\n  | { type: 'CLEAR_SELECTION' }\n  | { type: 'SET_PREVIEW_DATA'; payload: PassPreview | null }\n  | { type: 'SET_LOADING'; payload: boolean }\n  | { type: 'SET_VALIDATION'; payload: ValidationResult }\n  | { type: 'SET_DIRTY'; payload: boolean }\n  | { type: 'LOAD_TEMPLATE'; payload: PassTemplate };\n\nfunction editorReducer(state: EditorState, action: EditorAction): EditorState {\n  switch (action.type) {\n    case 'UPDATE_TEMPLATE':\n      return {\n        ...state,\n        currentTemplate: { ...state.currentTemplate, ...action.payload },\n        isDirty: true\n      };\n    \n    case 'UPDATE_FIELD':\n      const { fieldType, fieldIndex, field } = action.payload;\n      const updatedFields = { ...state.currentTemplate.fields };\n      updatedFields[fieldType] = [...updatedFields[fieldType]];\n      updatedFields[fieldType][fieldIndex] = { ...updatedFields[fieldType][fieldIndex], ...field };\n      \n      return {\n        ...state,\n        currentTemplate: {\n          ...state.currentTemplate,\n          fields: updatedFields\n        },\n        isDirty: true\n      };\n    \n    case 'ADD_FIELD':\n      const { fieldType: addFieldType, field: newField } = action.payload;\n      const addFields = { ...state.currentTemplate.fields };\n      addFields[addFieldType] = [...addFields[addFieldType], newField];\n      \n      return {\n        ...state,\n        currentTemplate: {\n          ...state.currentTemplate,\n          fields: addFields\n        },\n        isDirty: true\n      };\n    \n    case 'REMOVE_FIELD':\n      const { fieldType: removeFieldType, fieldIndex: removeIndex } = action.payload;\n      const removeFields = { ...state.currentTemplate.fields };\n      removeFields[removeFieldType] = removeFields[removeFieldType].filter((_, index) => index !== removeIndex);\n      \n      return {\n        ...state,\n        currentTemplate: {\n          ...state.currentTemplate,\n          fields: removeFields\n        },\n        isDirty: true\n      };\n    \n    case 'UPDATE_COLORS':\n      return {\n        ...state,\n        currentTemplate: {\n          ...state.currentTemplate,\n          colors: { ...state.currentTemplate.colors, ...action.payload }\n        },\n        isDirty: true\n      };\n    \n    case 'UPDATE_IMAGES':\n      return {\n        ...state,\n        currentTemplate: {\n          ...state.currentTemplate,\n          images: { ...state.currentTemplate.images, ...action.payload }\n        },\n        isDirty: true\n      };\n    \n    case 'SET_SELECTED_FIELD':\n      return {\n        ...state,\n        selectedFieldType: action.payload.fieldType,\n        selectedFieldIndex: action.payload.fieldIndex\n      };\n    \n    case 'CLEAR_SELECTION':\n      return {\n        ...state,\n        selectedFieldType: null,\n        selectedFieldIndex: null\n      };\n    \n    case 'SET_PREVIEW_DATA':\n      return {\n        ...state,\n        previewData: action.payload,\n        isLoading: false\n      };\n    \n    case 'SET_LOADING':\n      return {\n        ...state,\n        isLoading: action.payload\n      };\n    \n    case 'SET_VALIDATION':\n      return {\n        ...state,\n        validation: action.payload\n      };\n    \n    case 'SET_DIRTY':\n      return {\n        ...state,\n        isDirty: action.payload\n      };\n    \n    case 'LOAD_TEMPLATE':\n      return {\n        ...state,\n        currentTemplate: action.payload,\n        isDirty: false\n      };\n    \n    default:\n      return state;\n  }\n}\n\nexport function EditorProvider({ children }: { children: React.ReactNode }) {\n  const [state, dispatch] = useReducer(editorReducer, initialState);\n  const { socket, isConnected } = useWebSocket();\n\n  // WebSocket event handlers\n  useEffect(() => {\n    if (!socket) return;\n\n    const handlePreviewUpdated = (data: any) => {\n      dispatch({ type: 'SET_PREVIEW_DATA', payload: data.preview });\n      dispatch({ type: 'SET_VALIDATION', payload: data.validation });\n    };\n\n    const handlePreviewLoading = (data: any) => {\n      dispatch({ type: 'SET_LOADING', payload: data.isLoading });\n    };\n\n    const handlePreviewError = (error: any) => {\n      console.error('Preview error:', error);\n      dispatch({ type: 'SET_LOADING', payload: false });\n    };\n\n    socket.on('preview-updated', handlePreviewUpdated);\n    socket.on('preview-loading', handlePreviewLoading);\n    socket.on('preview-error', handlePreviewError);\n\n    return () => {\n      socket.off('preview-updated', handlePreviewUpdated);\n      socket.off('preview-loading', handlePreviewLoading);\n      socket.off('preview-error', handlePreviewError);\n    };\n  }, [socket]);\n\n  const updateTemplate = useCallback((template: Partial<PassTemplate>) => {\n    dispatch({ type: 'UPDATE_TEMPLATE', payload: template });\n    \n    if (socket && isConnected) {\n      socket.emit('update-template', {\n        template: { ...state.currentTemplate, ...template },\n        passData: getDefaultPassData()\n      });\n    }\n  }, [socket, isConnected, state.currentTemplate]);\n\n  const updateField = useCallback((fieldType: keyof FieldConfiguration, fieldIndex: number, field: Field) => {\n    dispatch({ type: 'UPDATE_FIELD', payload: { fieldType, fieldIndex, field } });\n    \n    if (socket && isConnected) {\n      socket.emit('update-field', {\n        fieldType,\n        fieldIndex,\n        field,\n        template: state.currentTemplate,\n        passData: getDefaultPassData()\n      });\n    }\n  }, [socket, isConnected, state.currentTemplate]);\n\n  const addField = useCallback((fieldType: keyof FieldConfiguration, field: Field) => {\n    dispatch({ type: 'ADD_FIELD', payload: { fieldType, field } });\n    \n    if (socket && isConnected) {\n      socket.emit('update-template', {\n        template: state.currentTemplate,\n        passData: getDefaultPassData()\n      });\n    }\n  }, [socket, isConnected, state.currentTemplate]);\n\n  const removeField = useCallback((fieldType: keyof FieldConfiguration, fieldIndex: number) => {\n    dispatch({ type: 'REMOVE_FIELD', payload: { fieldType, fieldIndex } });\n    \n    if (socket && isConnected) {\n      socket.emit('update-template', {\n        template: state.currentTemplate,\n        passData: getDefaultPassData()\n      });\n    }\n  }, [socket, isConnected, state.currentTemplate]);\n\n  const updateColors = useCallback((colors: Partial<ColorConfiguration>) => {\n    dispatch({ type: 'UPDATE_COLORS', payload: colors });\n    \n    if (socket && isConnected) {\n      socket.emit('update-colors', {\n        colors,\n        template: state.currentTemplate,\n        passData: getDefaultPassData()\n      });\n    }\n  }, [socket, isConnected, state.currentTemplate]);\n\n  const updateImages = useCallback((images: Partial<ImageConfiguration>) => {\n    dispatch({ type: 'UPDATE_IMAGES', payload: images });\n    \n    if (socket && isConnected) {\n      socket.emit('update-images', {\n        images,\n        template: state.currentTemplate,\n        passData: getDefaultPassData()\n      });\n    }\n  }, [socket, isConnected, state.currentTemplate]);\n\n  const setSelectedField = useCallback((fieldType: keyof FieldConfiguration, fieldIndex: number) => {\n    dispatch({ type: 'SET_SELECTED_FIELD', payload: { fieldType, fieldIndex } });\n  }, []);\n\n  const clearSelection = useCallback(() => {\n    dispatch({ type: 'CLEAR_SELECTION' });\n  }, []);\n\n  const undo = useCallback(() => {\n    if (socket && isConnected) {\n      socket.emit('undo');\n    }\n  }, [socket, isConnected]);\n\n  const redo = useCallback(() => {\n    if (socket && isConnected) {\n      socket.emit('redo');\n    }\n  }, [socket, isConnected]);\n\n  const generatePreview = useCallback((passData: PassData) => {\n    if (socket && isConnected) {\n      dispatch({ type: 'SET_LOADING', payload: true });\n      socket.emit('update-preview', {\n        template: state.currentTemplate,\n        passData\n      });\n    }\n  }, [socket, isConnected, state.currentTemplate]);\n\n  const validateTemplate = useCallback(() => {\n    if (socket && isConnected) {\n      socket.emit('validate-template', {\n        template: state.currentTemplate\n      });\n    }\n  }, [socket, isConnected, state.currentTemplate]);\n\n  const canUndo = false; // TODO: Implement undo/redo state tracking\n  const canRedo = false;\n\n  const value: EditorContextType = {\n    state,\n    updateTemplate,\n    updateField,\n    addField,\n    removeField,\n    updateColors,\n    updateImages,\n    setSelectedField,\n    clearSelection,\n    undo,\n    redo,\n    canUndo,\n    canRedo,\n    generatePreview,\n    validateTemplate\n  };\n\n  return (\n    <EditorContext.Provider value={value}>\n      {children}\n    </EditorContext.Provider>\n  );\n}\n\nexport function useEditor() {\n  const context = useContext(EditorContext);\n  if (context === undefined) {\n    throw new Error('useEditor must be used within an EditorProvider');\n  }\n  return context;\n}\n\n// Helper function to get default pass data\nfunction getDefaultPassData(): PassData {\n  return {\n    campaignId: '550e8400-e29b-41d4-a716-446655440001',\n    campaignName: 'Demo Campaign',\n    tenantName: 'MKTR Platform',\n    customerEmail: 'demo@mktr.sg',\n    customerName: 'John Doe',\n    stampsEarned: 7,\n    stampsRequired: 10,\n    pointsEarned: 150,\n    spendAmount: 10,\n    nextReward: 'Free coffee at 10 stamps',\n    membershipTier: 'Gold',\n    expiryDate: '2024-12-31'\n  };\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}