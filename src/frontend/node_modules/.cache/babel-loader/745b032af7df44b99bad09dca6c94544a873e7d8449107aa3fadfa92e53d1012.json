{"ast":null,"code":"import _objectSpread from\"/Users/shawnlee/Documents/GitHub/passes-mktr/src/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState}from'react';import{Palette,Type,Grid,ChevronDown,ChevronUp,Star,Target,CreditCard}from'lucide-react';import{Image as ImageIcon}from'lucide-react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";// Helper to create stable, accessible ids from labels\nfunction labelToId(label){return label.toLowerCase().replace(/[^a-z0-9]+/g,'-');}const ColorPicker=_ref=>{let{label,value,onChange,description,idBase}=_ref;const base=idBase||labelToId(label);const colorId=\"\".concat(base,\"-color\");const textId=\"\".concat(base,\"-text\");return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:textId,className:\"text-sm font-medium text-gray-700\",children:label}),/*#__PURE__*/_jsx(\"span\",{className:\"text-xs text-gray-500\",children:value})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(\"input\",{id:colorId,name:colorId,type:\"color\",value:value,onChange:e=>onChange(e.target.value),className:\"w-10 h-10 rounded-lg border-2 border-gray-200 cursor-pointer hover:border-gray-300 transition-colors\",\"aria-label\":\"\".concat(label,\" color\")}),/*#__PURE__*/_jsx(\"input\",{id:textId,name:textId,type:\"text\",value:value,onChange:e=>onChange(e.target.value),className:\"flex-1 px-3 py-2 text-sm border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all\",placeholder:\"#000000\",\"aria-label\":\"\".concat(label,\" value\")})]}),description&&/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500\",children:description})]});};const TextInput=_ref2=>{let{label,value,onChange,placeholder,maxLength,id,disabled}=_ref2;const inputId=id||labelToId(label);return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:inputId,className:\"text-sm font-medium text-gray-700\",children:label}),/*#__PURE__*/_jsx(\"input\",{id:inputId,name:inputId,type:\"text\",value:value,onChange:e=>onChange(e.target.value),placeholder:placeholder,maxLength:maxLength,disabled:disabled,className:\"w-full px-3 py-2 text-sm border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all \".concat(disabled?'bg-gray-100 text-gray-500 cursor-not-allowed':'')})]});};const SectionHeader=_ref3=>{let{title,icon,isExpanded,onToggle}=_ref3;return/*#__PURE__*/_jsxs(\"button\",{onClick:onToggle,className:\"w-full flex items-center justify-between p-3 text-left hover:bg-gray-50 rounded-lg transition-colors\",\"aria-expanded\":isExpanded,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[icon,/*#__PURE__*/_jsx(\"span\",{className:\"font-medium text-gray-900\",children:title})]}),isExpanded?/*#__PURE__*/_jsx(ChevronUp,{className:\"w-4 h-4 text-gray-500\"}):/*#__PURE__*/_jsx(ChevronDown,{className:\"w-4 h-4 text-gray-500\"})]});};const DesignEditor=_ref4=>{let{design,onDesignChange}=_ref4;const[expandedSections,setExpandedSections]=useState({colors:false,content:false,stamps:false,images:false});const updateDesign=updates=>{onDesignChange(_objectSpread(_objectSpread({},design),updates));};const toggleSection=section=>{setExpandedSections(prev=>{const newState={colors:false,content:false,stamps:false,images:false};// If the clicked section was closed, open it; otherwise close it\nif(!prev[section]){newState[section]=true;}return newState;});};const getCardTypeIcon=cardType=>{switch(cardType){case'redemption':return/*#__PURE__*/_jsx(CreditCard,{className:\"w-4 h-4 text-blue-600\"});case'points':return/*#__PURE__*/_jsx(Star,{className:\"w-4 h-4 text-yellow-600\"});case'milestone':return/*#__PURE__*/_jsx(Target,{className:\"w-4 h-4 text-purple-600\"});default:return/*#__PURE__*/_jsx(CreditCard,{className:\"w-4 h-4 text-blue-600\"});}};const getCardTypeName=cardType=>{switch(cardType){case'redemption':return'Redemption Card';case'points':return'Points Card';case'milestone':return'Milestone Card';default:return'Redemption Card';}};return/*#__PURE__*/_jsxs(\"div\",{className:\"h-full flex flex-col bg-white\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 border-b border-gray-200 bg-gray-50\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-lg font-semibold text-gray-900\",children:\"Design Editor\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"Customize your Apple Wallet pass\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex-1 overflow-y-auto\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"border border-gray-200 rounded-lg overflow-hidden\",children:[/*#__PURE__*/_jsx(SectionHeader,{title:\"Colors\",icon:/*#__PURE__*/_jsx(Palette,{className:\"w-4 h-4 text-blue-600\"}),isExpanded:expandedSections.colors,onToggle:()=>toggleSection('colors')}),/*#__PURE__*/_jsx(\"div\",{className:\"transition-all duration-200 ease-out \".concat(expandedSections.colors?'max-h-[70vh] opacity-100 overflow-y-auto':'max-h-0 opacity-0 overflow-hidden'),children:/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 space-y-4 bg-gray-50\",children:[/*#__PURE__*/_jsx(ColorPicker,{label:\"Background Color\",value:design.backgroundColor,onChange:color=>updateDesign({backgroundColor:color}),description:\"Main pass background color\",idBase:\"background-color\"}),/*#__PURE__*/_jsx(ColorPicker,{label:\"Text Color\",value:design.foregroundColor,onChange:color=>updateDesign({foregroundColor:color}),description:\"Primary text color\",idBase:\"text-color\"}),/*#__PURE__*/_jsx(ColorPicker,{label:\"Label Color\",value:design.labelColor,onChange:color=>updateDesign({labelColor:color}),description:\"Field label color\",idBase:\"label-color\"}),/*#__PURE__*/_jsx(ColorPicker,{label:\"Strip Background\",value:design.stripBackgroundColor,onChange:color=>updateDesign({stripBackgroundColor:color}),description:\"Stamp area background\",idBase:\"strip-background\"})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"border border-gray-200 rounded-lg overflow-hidden\",children:[/*#__PURE__*/_jsx(SectionHeader,{title:\"Content\",icon:/*#__PURE__*/_jsx(Type,{className:\"w-4 h-4 text-green-600\"}),isExpanded:expandedSections.content,onToggle:()=>toggleSection('content')}),/*#__PURE__*/_jsx(\"div\",{className:\"transition-all duration-200 ease-out \".concat(expandedSections.content?'max-h-[70vh] opacity-100 overflow-y-auto':'max-h-0 opacity-0 overflow-hidden'),children:/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 space-y-4 bg-gray-50\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"logo-text\",className:\"text-sm font-medium text-gray-700\",children:\"Logo Text\"}),design.hideLogoText&&/*#__PURE__*/_jsx(\"span\",{className:\"text-xs text-orange-600 font-medium\",children:\"Hidden (wide logo)\"})]}),/*#__PURE__*/_jsx(\"input\",{id:\"logo-text\",name:\"logo-text\",type:\"text\",value:design.logoText,onChange:e=>updateDesign({logoText:e.target.value}),placeholder:\"COFFEE REWARDS\",maxLength:20,disabled:design.hideLogoText,className:\"w-full px-3 py-2 text-sm border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all \".concat(design.hideLogoText?'bg-gray-100 text-gray-400 cursor-not-allowed':'')}),design.hideLogoText&&/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-orange-600\",children:\"Logo text is hidden when using wide format logos\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-sm font-medium text-gray-700 border-b border-gray-200 pb-1\",children:\"Card Type\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-3 bg-blue-50 border border-blue-200 rounded-lg\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[getCardTypeIcon(design.cardType),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium text-blue-800\",children:\"Card Type:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-blue-700\",children:getCardTypeName(design.cardType)})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs text-blue-600 mt-1\",children:[design.cardType==='redemption'&&'This template is designed for redemption cards with stamp tracking',design.cardType==='points'&&'This template is designed for points-based loyalty programs',design.cardType==='milestone'&&'This template is designed for milestone-based achievement systems']})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-sm font-medium text-gray-700 border-b border-gray-200 pb-1\",children:\"Barcode\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"qr-alt-text\",className:\"text-sm font-medium text-gray-700\",children:\"QR Code Alt Text\"}),/*#__PURE__*/_jsx(\"input\",{id:\"qr-alt-text\",name:\"qr-alt-text\",type:\"text\",value:design.qrAltText||'',onChange:e=>updateDesign({qrAltText:e.target.value}),placeholder:\"Loyalty Card QR Code\",maxLength:60,className:\"w-full px-3 py-2 text-sm border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500\",children:\"Used in pass.json as the barcode altText (Apple supports this field).\"})]})]}),design.cardType==='redemption'&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-sm font-medium text-gray-700 border-b border-gray-200 pb-1\",children:\"Redemption Fields\"}),design.secondaryFields.filter((field,index)=>index===0).map((field,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"p-3 bg-white rounded-lg border border-gray-100 space-y-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-xs font-medium text-gray-600\",children:field.label}),/*#__PURE__*/_jsx(\"span\",{className:\"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded\",children:\"Fixed Label\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-sm font-medium text-gray-700\",children:\"Label\"}),/*#__PURE__*/_jsx(\"div\",{className:\"w-full px-3 py-2 text-sm border border-gray-200 rounded-lg bg-gray-100 text-gray-500 cursor-not-allowed\",children:field.label})]}),/*#__PURE__*/_jsx(TextInput,{label:\"Value\",value:field.value,onChange:value=>{const newFields=[...design.secondaryFields];newFields[index]=_objectSpread(_objectSpread({},field),{},{value:value});updateDesign({secondaryFields:newFields});},maxLength:25,id:\"secondary-value-\".concat(index)})]})]},index))]}),design.cardType==='points'&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-sm font-medium text-gray-700 border-b border-gray-200 pb-1\",children:\"Points Fields\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsx(TextInput,{label:\"Points Balance\",value:design.pointsBalance.toString(),onChange:value=>updateDesign({pointsBalance:parseInt(value)||0}),placeholder:\"1250\",id:\"points-balance\"}),/*#__PURE__*/_jsx(TextInput,{label:\"Points Required\",value:design.pointsRequired.toString(),onChange:value=>updateDesign({pointsRequired:parseInt(value)||0}),placeholder:\"2000\",id:\"points-required\"}),/*#__PURE__*/_jsx(TextInput,{label:\"Points Per Transaction\",value:design.pointsPerTransaction.toString(),onChange:value=>updateDesign({pointsPerTransaction:parseInt(value)||0}),placeholder:\"50\",id:\"points-per-transaction\"}),/*#__PURE__*/_jsx(TextInput,{label:\"Next Reward Points\",value:design.nextRewardPoints.toString(),onChange:value=>updateDesign({nextRewardPoints:parseInt(value)||0}),placeholder:\"2000\",id:\"next-reward-points\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-3 bg-white rounded-lg border border-gray-100\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between text-sm\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600\",children:\"Progress\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"font-medium text-gray-900\",children:[design.pointsBalance,\" / \",design.pointsRequired,\" points\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-2 w-full bg-gray-200 rounded-full h-2\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-yellow-500 h-2 rounded-full transition-all duration-300\",style:{width:\"\".concat(Math.min(design.pointsBalance/design.pointsRequired*100,100),\"%\")}})})]})]}),design.cardType==='milestone'&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-sm font-medium text-gray-700 border-b border-gray-200 pb-1\",children:\"Milestone Fields\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsx(TextInput,{label:\"Current Milestone\",value:design.currentMilestone.toString(),onChange:value=>updateDesign({currentMilestone:parseInt(value)||1}),placeholder:\"2\",id:\"current-milestone\"}),/*#__PURE__*/_jsx(TextInput,{label:\"Next Milestone Points\",value:design.nextMilestonePoints.toString(),onChange:value=>updateDesign({nextMilestonePoints:parseInt(value)||0}),placeholder:\"2000\",id:\"next-milestone-points\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-sm font-medium text-gray-700\",children:\"Milestone Levels\"}),design.milestoneLevels.map((level,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"p-3 bg-white rounded-lg border border-gray-100 space-y-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm font-medium text-gray-700\",children:[\"Level \",level.level]}),/*#__PURE__*/_jsx(\"span\",{className:\"text-xs px-2 py-1 rounded-full \".concat(design.currentMilestone>=level.level?'bg-green-100 text-green-800':'bg-gray-100 text-gray-600'),children:design.currentMilestone>=level.level?'Achieved':'Pending'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-2\",children:[/*#__PURE__*/_jsx(TextInput,{label:\"Name\",value:level.name,onChange:value=>{const newLevels=[...design.milestoneLevels];newLevels[index]=_objectSpread(_objectSpread({},level),{},{name:value});updateDesign({milestoneLevels:newLevels});},placeholder:\"Bronze\",id:\"milestone-name-\".concat(index)}),/*#__PURE__*/_jsx(TextInput,{label:\"Points Required\",value:level.pointsRequired.toString(),onChange:value=>{const newLevels=[...design.milestoneLevels];newLevels[index]=_objectSpread(_objectSpread({},level),{},{pointsRequired:parseInt(value)||0});updateDesign({milestoneLevels:newLevels});},placeholder:\"500\",id:\"milestone-points-\".concat(index)})]}),/*#__PURE__*/_jsx(TextInput,{label:\"Reward\",value:level.reward,onChange:value=>{const newLevels=[...design.milestoneLevels];newLevels[index]=_objectSpread(_objectSpread({},level),{},{reward:value});updateDesign({milestoneLevels:newLevels});},placeholder:\"10% off\",id:\"milestone-reward-\".concat(index)})]},index))]})]})]})})]}),design.cardType==='redemption'&&/*#__PURE__*/_jsxs(\"div\",{className:\"border border-gray-200 rounded-lg overflow-hidden\",children:[/*#__PURE__*/_jsx(SectionHeader,{title:\"Stamps\",icon:/*#__PURE__*/_jsx(Grid,{className:\"w-4 h-4 text-purple-600\"}),isExpanded:expandedSections.stamps,onToggle:()=>toggleSection('stamps')}),/*#__PURE__*/_jsx(\"div\",{className:\"transition-all duration-200 ease-out \".concat(expandedSections.stamps?'max-h-[70vh] opacity-100 overflow-y-auto':'max-h-0 opacity-0 overflow-hidden'),children:/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 space-y-4 bg-gray-50\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-blue-50 border border-blue-200 rounded-lg p-3 mb-4\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs text-blue-700\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Note:\"}),\" This area is just to help you visualize how the final design will look like.\"]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-sm font-medium text-gray-700\",children:\"Total Stamps\"}),/*#__PURE__*/_jsx(\"select\",{value:design.totalStamps,onChange:e=>{const newTotal=parseInt(e.target.value);updateDesign({totalStamps:newTotal,stampsEarned:Math.min(design.stampsEarned,newTotal)});},className:\"w-full px-3 py-2 text-sm border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all\",children:Array.from({length:30},(_,i)=>/*#__PURE__*/_jsxs(\"option\",{value:i+1,children:[i+1,\" stamps\"]},i+1))}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500\",children:\"Total number of stamps needed\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-sm font-medium text-gray-700\",children:\"Stamps Redeemed\"}),/*#__PURE__*/_jsx(\"select\",{value:design.stampsEarned,onChange:e=>updateDesign({stampsEarned:parseInt(e.target.value)}),className:\"w-full px-3 py-2 text-sm border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all\",children:Array.from({length:design.totalStamps+1},(_,i)=>/*#__PURE__*/_jsxs(\"option\",{value:i,children:[i,\" stamps\"]},i))}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500\",children:\"Cannot exceed total stamps\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-3 bg-white rounded-lg border border-gray-100\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between text-sm\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600\",children:\"Progress\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"font-medium text-gray-900\",children:[design.stampsEarned,\" / \",design.totalStamps,\" redeemed\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-2 w-full bg-gray-200 rounded-full h-2\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-blue-600 h-2 rounded-full transition-all duration-300\",style:{width:\"\".concat(design.stampsEarned/design.totalStamps*100,\"%\")}})})]})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"border border-gray-200 rounded-lg overflow-hidden\",children:[/*#__PURE__*/_jsx(SectionHeader,{title:\"Images\",icon:/*#__PURE__*/_jsx(ImageIcon,{className:\"w-4 h-4 text-pink-600\"}),isExpanded:expandedSections.images,onToggle:()=>toggleSection('images')}),/*#__PURE__*/_jsx(\"div\",{className:\"transition-all duration-200 ease-out \".concat(expandedSections.images?'max-h-[70vh] opacity-100 overflow-y-auto':'max-h-0 opacity-0 overflow-hidden'),children:/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 space-y-4 bg-gray-50\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-sm font-medium text-gray-700\",children:\"Logo (top-left)\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start space-x-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-12 h-12 bg-gray-100 rounded border flex items-center justify-center overflow-hidden\",children:design.logoImage?/*#__PURE__*/_jsx(\"img\",{src:design.logoImage,alt:\"Logo\",style:{width:'100%',height:'100%',objectFit:'contain',backgroundColor:'transparent'}}):/*#__PURE__*/_jsx(\"span\",{className:\"text-xs text-gray-400\",children:\"Logo\"})}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",accept:\"image/*\",onChange:e=>{var _e$target$files;const file=(_e$target$files=e.target.files)===null||_e$target$files===void 0?void 0:_e$target$files[0];if(!file)return;const reader=new FileReader();reader.onload=ev=>{var _ev$target;const logoImage=String(((_ev$target=ev.target)===null||_ev$target===void 0?void 0:_ev$target.result)||'');// Create an image to get dimensions\nconst img=new Image();img.onload=()=>{const aspectRatio=img.width/img.height;const format=aspectRatio>1.5?'wide':'square';const hideLogoText=format==='wide';updateDesign({logoImage,logoFormat:format,hideLogoText});};img.src=logoImage;};reader.readAsDataURL(file);},className:\"flex-1 text-sm\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs text-gray-500\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Dynamic sizing:\"}),\" Square images (1:1) \\u2192 50\\xD750px with logo text. Wide images (>1.5:1) \\u2192 160\\xD750px, logo text hidden.\"]}),design.logoImage&&/*#__PURE__*/_jsx(\"div\",{className:\"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium \".concat(design.logoFormat==='wide'?'bg-blue-100 text-blue-800':'bg-green-100 text-green-800'),children:design.logoFormat==='wide'?\"\\uD83D\\uDCCF Wide format (160\\xD750px) - Logo text hidden\":\"\\u2B1C Square format (50\\xD750px) - Logo text visible\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-sm font-medium text-gray-700\",children:\"Stamp Icon (Unredeemed)\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start space-x-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-12 h-12 bg-white rounded border flex items-center justify-center overflow-hidden\",children:design.stampIconUnredeemed?/*#__PURE__*/_jsx(\"img\",{src:design.stampIconUnredeemed,alt:\"Unredeemed icon\",className:\"w-full h-full object-contain\"}):/*#__PURE__*/_jsx(\"span\",{className:\"text-xs text-gray-400\",children:\"Unrdm\"})}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",accept:\"image/*\",onChange:e=>{var _e$target$files2;const file=(_e$target$files2=e.target.files)===null||_e$target$files2===void 0?void 0:_e$target$files2[0];if(!file)return;const reader=new FileReader();reader.onload=ev=>{var _ev$target2;return updateDesign({stampIconUnredeemed:String(((_ev$target2=ev.target)===null||_ev$target2===void 0?void 0:_ev$target2.result)||'')});};reader.readAsDataURL(file);},className:\"flex-1 text-sm\"})]})]}),/*#__PURE__*/_jsxs(\"label\",{className:\"inline-flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:!!design.useSameStampIcon,onChange:e=>updateDesign({useSameStampIcon:e.target.checked}),className:\"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 focus:ring-2\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-700\",children:\"Use Same Icon for Redeemed\"})]}),!design.useSameStampIcon&&/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-sm font-medium text-gray-700\",children:\"Stamp Icon (Redeemed)\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start space-x-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-12 h-12 bg-white rounded border flex items-center justify-center overflow-hidden\",children:design.stampIconRedeemed?/*#__PURE__*/_jsx(\"img\",{src:design.stampIconRedeemed,alt:\"Redeemed icon\",className:\"w-full h-full object-contain\"}):/*#__PURE__*/_jsx(\"span\",{className:\"text-xs text-gray-400\",children:\"Rdm\"})}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",accept:\"image/*\",onChange:e=>{var _e$target$files3;const file=(_e$target$files3=e.target.files)===null||_e$target$files3===void 0?void 0:_e$target$files3[0];if(!file)return;const reader=new FileReader();reader.onload=ev=>{var _ev$target3;return updateDesign({stampIconRedeemed:String(((_ev$target3=ev.target)===null||_ev$target3===void 0?void 0:_ev$target3.result)||'')});};reader.readAsDataURL(file);},className:\"flex-1 text-sm\"})]})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500\",children:\"Recommended size: 32\\xD732px or larger. PNG with transparency preferred.\"})]})})]})]})})]});};export default DesignEditor;","map":{"version":3,"names":["React","useState","Palette","Type","Grid","ChevronDown","ChevronUp","Star","Target","CreditCard","Image","ImageIcon","jsx","_jsx","jsxs","_jsxs","labelToId","label","toLowerCase","replace","ColorPicker","_ref","value","onChange","description","idBase","base","colorId","concat","textId","className","children","htmlFor","id","name","type","e","target","placeholder","TextInput","_ref2","maxLength","disabled","inputId","SectionHeader","_ref3","title","icon","isExpanded","onToggle","onClick","DesignEditor","_ref4","design","onDesignChange","expandedSections","setExpandedSections","colors","content","stamps","images","updateDesign","updates","_objectSpread","toggleSection","section","prev","newState","getCardTypeIcon","cardType","getCardTypeName","backgroundColor","color","foregroundColor","labelColor","stripBackgroundColor","hideLogoText","logoText","qrAltText","secondaryFields","filter","field","index","map","newFields","pointsBalance","toString","parseInt","pointsRequired","pointsPerTransaction","nextRewardPoints","style","width","Math","min","currentMilestone","nextMilestonePoints","milestoneLevels","level","newLevels","reward","totalStamps","newTotal","stampsEarned","Array","from","length","_","i","logoImage","src","alt","height","objectFit","accept","_e$target$files","file","files","reader","FileReader","onload","ev","_ev$target","String","result","img","aspectRatio","format","logoFormat","readAsDataURL","stampIconUnredeemed","_e$target$files2","_ev$target2","checked","useSameStampIcon","stampIconRedeemed","_e$target$files3","_ev$target3"],"sources":["/Users/shawnlee/Documents/GitHub/passes-mktr/src/frontend/src/components/DesignEditor.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { PassDesign, CardType } from '../types';\nimport { Palette, Type, Grid, ChevronDown, ChevronUp, Star, Target, CreditCard } from 'lucide-react';\nimport { Image as ImageIcon } from 'lucide-react';\n\ninterface DesignEditorProps {\n  design: PassDesign;\n  onDesignChange: (design: PassDesign) => void;\n}\n\n// Helper to create stable, accessible ids from labels\nfunction labelToId(label: string): string {\n  return label.toLowerCase().replace(/[^a-z0-9]+/g, '-');\n}\n\ninterface ColorPickerProps {\n  label: string;\n  value: string;\n  onChange: (color: string) => void;\n  description?: string;\n  idBase?: string;\n}\n\nconst ColorPicker: React.FC<ColorPickerProps> = ({ label, value, onChange, description, idBase }) => {\n  const base = idBase || labelToId(label);\n  const colorId = `${base}-color`;\n  const textId = `${base}-text`;\n\n  return (\n    <div className=\"space-y-2\">\n      <div className=\"flex items-center justify-between\">\n        <label htmlFor={textId} className=\"text-sm font-medium text-gray-700\">{label}</label>\n        <span className=\"text-xs text-gray-500\">{value}</span>\n      </div>\n      <div className=\"flex items-center space-x-3\">\n        <input\n          id={colorId}\n          name={colorId}\n          type=\"color\"\n          value={value}\n          onChange={(e) => onChange(e.target.value)}\n          className=\"w-10 h-10 rounded-lg border-2 border-gray-200 cursor-pointer hover:border-gray-300 transition-colors\"\n          aria-label={`${label} color`}\n        />\n        <input\n          id={textId}\n          name={textId}\n          type=\"text\"\n          value={value}\n          onChange={(e) => onChange(e.target.value)}\n          className=\"flex-1 px-3 py-2 text-sm border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all\"\n          placeholder=\"#000000\"\n          aria-label={`${label} value`}\n        />\n      </div>\n      {description && (\n        <p className=\"text-xs text-gray-500\">{description}</p>\n      )}\n    </div>\n  );\n};\n\ninterface TextInputProps {\n  label: string;\n  value: string;\n  onChange: (value: string) => void;\n  placeholder?: string;\n  maxLength?: number;\n  id?: string;\n  disabled?: boolean;\n}\n\nconst TextInput: React.FC<TextInputProps> = ({ label, value, onChange, placeholder, maxLength, id, disabled }) => {\n  const inputId = id || labelToId(label);\n  return (\n    <div className=\"space-y-2\">\n      <label htmlFor={inputId} className=\"text-sm font-medium text-gray-700\">{label}</label>\n      <input\n        id={inputId}\n        name={inputId}\n        type=\"text\"\n        value={value}\n        onChange={(e) => onChange(e.target.value)}\n        placeholder={placeholder}\n        maxLength={maxLength}\n        disabled={disabled}\n        className={`w-full px-3 py-2 text-sm border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all ${\n          disabled ? 'bg-gray-100 text-gray-500 cursor-not-allowed' : ''\n        }`}\n      />\n    </div>\n  );\n};\n\n\ninterface SectionHeaderProps {\n  title: string;\n  icon: React.ReactNode;\n  isExpanded: boolean;\n  onToggle: () => void;\n}\n\nconst SectionHeader: React.FC<SectionHeaderProps> = ({ title, icon, isExpanded, onToggle }) => (\n  <button\n    onClick={onToggle}\n    className=\"w-full flex items-center justify-between p-3 text-left hover:bg-gray-50 rounded-lg transition-colors\"\n    aria-expanded={isExpanded}\n  >\n    <div className=\"flex items-center space-x-2\">\n      {icon}\n      <span className=\"font-medium text-gray-900\">{title}</span>\n    </div>\n    {isExpanded ? (\n      <ChevronUp className=\"w-4 h-4 text-gray-500\" />\n    ) : (\n      <ChevronDown className=\"w-4 h-4 text-gray-500\" />\n    )}\n  </button>\n);\n\nconst DesignEditor: React.FC<DesignEditorProps> = ({ design, onDesignChange }) => {\n  const [expandedSections, setExpandedSections] = useState({\n    colors: false,\n    content: false,\n    stamps: false,\n    images: false,\n  });\n\n  const updateDesign = (updates: Partial<PassDesign>) => {\n    onDesignChange({ ...design, ...updates });\n  };\n\n  const toggleSection = (section: keyof typeof expandedSections) => {\n    setExpandedSections(prev => {\n      const newState = {\n        colors: false,\n        content: false,\n        stamps: false,\n        images: false,\n      };\n      \n      // If the clicked section was closed, open it; otherwise close it\n      if (!prev[section]) {\n        newState[section] = true;\n      }\n      \n      return newState;\n    });\n  };\n\n  const getCardTypeIcon = (cardType: CardType) => {\n    switch (cardType) {\n      case 'redemption':\n        return <CreditCard className=\"w-4 h-4 text-blue-600\" />;\n      case 'points':\n        return <Star className=\"w-4 h-4 text-yellow-600\" />;\n      case 'milestone':\n        return <Target className=\"w-4 h-4 text-purple-600\" />;\n      default:\n        return <CreditCard className=\"w-4 h-4 text-blue-600\" />;\n    }\n  };\n\n  const getCardTypeName = (cardType: CardType) => {\n    switch (cardType) {\n      case 'redemption':\n        return 'Redemption Card';\n      case 'points':\n        return 'Points Card';\n      case 'milestone':\n        return 'Milestone Card';\n      default:\n        return 'Redemption Card';\n    }\n  };\n  return (\n    <div className=\"h-full flex flex-col bg-white\">\n      {/* Header */}\n      <div className=\"p-4 border-b border-gray-200 bg-gray-50\">\n        <h2 className=\"text-lg font-semibold text-gray-900\">Design Editor</h2>\n        <p className=\"text-sm text-gray-600\">Customize your Apple Wallet pass</p>\n      </div>\n\n      {/* Editor Content */}\n      <div className=\"flex-1 overflow-y-auto\">\n        <div className=\"p-4 space-y-4\">\n          {/* Colors Section */}\n          <div className=\"border border-gray-200 rounded-lg overflow-hidden\">\n            <SectionHeader\n              title=\"Colors\"\n              icon={<Palette className=\"w-4 h-4 text-blue-600\" />}\n              isExpanded={expandedSections.colors}\n              onToggle={() => toggleSection('colors')}\n            />\n            <div \n              className={`transition-all duration-200 ease-out ${\n                expandedSections.colors ? 'max-h-[70vh] opacity-100 overflow-y-auto' : 'max-h-0 opacity-0 overflow-hidden'\n              }`}\n            >\n              <div className=\"p-4 space-y-4 bg-gray-50\">\n                <ColorPicker\n                  label=\"Background Color\"\n                  value={design.backgroundColor}\n                  onChange={(color) => updateDesign({ backgroundColor: color })}\n                  description=\"Main pass background color\"\n                  idBase=\"background-color\"\n                />\n                <ColorPicker\n                  label=\"Text Color\"\n                  value={design.foregroundColor}\n                  onChange={(color) => updateDesign({ foregroundColor: color })}\n                  description=\"Primary text color\"\n                  idBase=\"text-color\"\n                />\n                <ColorPicker\n                  label=\"Label Color\"\n                  value={design.labelColor}\n                  onChange={(color) => updateDesign({ labelColor: color })}\n                  description=\"Field label color\"\n                  idBase=\"label-color\"\n                />\n                <ColorPicker\n                  label=\"Strip Background\"\n                  value={design.stripBackgroundColor}\n                  onChange={(color) => updateDesign({ stripBackgroundColor: color })}\n                  description=\"Stamp area background\"\n                  idBase=\"strip-background\"\n                />\n              </div>\n            </div>\n          </div>\n\n          {/* Content Section */}\n          <div className=\"border border-gray-200 rounded-lg overflow-hidden\">\n            <SectionHeader\n              title=\"Content\"\n              icon={<Type className=\"w-4 h-4 text-green-600\" />}\n              isExpanded={expandedSections.content}\n              onToggle={() => toggleSection('content')}\n            />\n            <div \n              className={`transition-all duration-200 ease-out ${\n                expandedSections.content ? 'max-h-[70vh] opacity-100 overflow-y-auto' : 'max-h-0 opacity-0 overflow-hidden'\n              }`}\n            >\n              <div className=\"p-4 space-y-4 bg-gray-50\">\n                {/* Logo Text */}\n                <div className=\"space-y-2\">\n                  <div className=\"flex items-center justify-between\">\n                    <label htmlFor=\"logo-text\" className=\"text-sm font-medium text-gray-700\">\n                      Logo Text\n                    </label>\n                    {design.hideLogoText && (\n                      <span className=\"text-xs text-orange-600 font-medium\">\n                        Hidden (wide logo)\n                      </span>\n                    )}\n                  </div>\n                  <input\n                    id=\"logo-text\"\n                    name=\"logo-text\"\n                    type=\"text\"\n                    value={design.logoText}\n                    onChange={(e) => updateDesign({ logoText: e.target.value })}\n                    placeholder=\"COFFEE REWARDS\"\n                    maxLength={20}\n                    disabled={design.hideLogoText}\n                    className={`w-full px-3 py-2 text-sm border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all ${\n                      design.hideLogoText ? 'bg-gray-100 text-gray-400 cursor-not-allowed' : ''\n                    }`}\n                  />\n                  {design.hideLogoText && (\n                    <p className=\"text-xs text-orange-600\">\n                      Logo text is hidden when using wide format logos\n                    </p>\n                  )}\n                </div>\n\n                {/* Card Type Display */}\n                <div className=\"space-y-3\">\n                  <h4 className=\"text-sm font-medium text-gray-700 border-b border-gray-200 pb-1\">Card Type</h4>\n                  <div className=\"p-3 bg-blue-50 border border-blue-200 rounded-lg\">\n                    <div className=\"flex items-center space-x-2\">\n                      {getCardTypeIcon(design.cardType)}\n                      <span className=\"text-sm font-medium text-blue-800\">Card Type:</span>\n                      <span className=\"text-sm text-blue-700\">{getCardTypeName(design.cardType)}</span>\n                    </div>\n                    <p className=\"text-xs text-blue-600 mt-1\">\n                      {design.cardType === 'redemption' && 'This template is designed for redemption cards with stamp tracking'}\n                      {design.cardType === 'points' && 'This template is designed for points-based loyalty programs'}\n                      {design.cardType === 'milestone' && 'This template is designed for milestone-based achievement systems'}\n                    </p>\n                  </div>\n                </div>\n\n                {/* Barcode */}\n                <div className=\"space-y-3\">\n                  <h4 className=\"text-sm font-medium text-gray-700 border-b border-gray-200 pb-1\">Barcode</h4>\n                  <div className=\"space-y-2\">\n                    <label htmlFor=\"qr-alt-text\" className=\"text-sm font-medium text-gray-700\">QR Code Alt Text</label>\n                    <input\n                      id=\"qr-alt-text\"\n                      name=\"qr-alt-text\"\n                      type=\"text\"\n                      value={design.qrAltText || ''}\n                      onChange={(e) => updateDesign({ qrAltText: e.target.value })}\n                      placeholder=\"Loyalty Card QR Code\"\n                      maxLength={60}\n                      className=\"w-full px-3 py-2 text-sm border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all\"\n                    />\n                    <p className=\"text-xs text-gray-500\">Used in pass.json as the barcode altText (Apple supports this field).</p>\n                  </div>\n                </div>\n\n                {/* Card Type Specific Fields */}\n                {design.cardType === 'redemption' && (\n                  <div className=\"space-y-3\">\n                    <h4 className=\"text-sm font-medium text-gray-700 border-b border-gray-200 pb-1\">Redemption Fields</h4>\n                    {design.secondaryFields.filter((field, index) => index === 0).map((field, index) => (\n                      <div key={index} className=\"p-3 bg-white rounded-lg border border-gray-100 space-y-3\">\n                        <div className=\"flex items-center justify-between\">\n                          <span className=\"text-xs font-medium text-gray-600\">{field.label}</span>\n                          <span className=\"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded\">Fixed Label</span>\n                        </div>\n                        <div className=\"space-y-2\">\n                          <div className=\"space-y-2\">\n                            <label className=\"text-sm font-medium text-gray-700\">Label</label>\n                            <div className=\"w-full px-3 py-2 text-sm border border-gray-200 rounded-lg bg-gray-100 text-gray-500 cursor-not-allowed\">\n                              {field.label}\n                            </div>\n                          </div>\n                          <TextInput\n                            label=\"Value\"\n                            value={field.value}\n                            onChange={(value) => {\n                              const newFields = [...design.secondaryFields];\n                              newFields[index] = { ...field, value: value };\n                              updateDesign({ secondaryFields: newFields });\n                            }}\n                            maxLength={25}\n                            id={`secondary-value-${index}`}\n                          />\n                        </div>\n                      </div>\n                    ))}\n                  </div>\n                )}\n\n                {design.cardType === 'points' && (\n                  <div className=\"space-y-3\">\n                    <h4 className=\"text-sm font-medium text-gray-700 border-b border-gray-200 pb-1\">Points Fields</h4>\n                    <div className=\"grid grid-cols-2 gap-4\">\n                      <TextInput\n                        label=\"Points Balance\"\n                        value={design.pointsBalance.toString()}\n                        onChange={(value) => updateDesign({ pointsBalance: parseInt(value) || 0 })}\n                        placeholder=\"1250\"\n                        id=\"points-balance\"\n                      />\n                      <TextInput\n                        label=\"Points Required\"\n                        value={design.pointsRequired.toString()}\n                        onChange={(value) => updateDesign({ pointsRequired: parseInt(value) || 0 })}\n                        placeholder=\"2000\"\n                        id=\"points-required\"\n                      />\n                      <TextInput\n                        label=\"Points Per Transaction\"\n                        value={design.pointsPerTransaction.toString()}\n                        onChange={(value) => updateDesign({ pointsPerTransaction: parseInt(value) || 0 })}\n                        placeholder=\"50\"\n                        id=\"points-per-transaction\"\n                      />\n                      <TextInput\n                        label=\"Next Reward Points\"\n                        value={design.nextRewardPoints.toString()}\n                        onChange={(value) => updateDesign({ nextRewardPoints: parseInt(value) || 0 })}\n                        placeholder=\"2000\"\n                        id=\"next-reward-points\"\n                      />\n                    </div>\n                    <div className=\"p-3 bg-white rounded-lg border border-gray-100\">\n                      <div className=\"flex items-center justify-between text-sm\">\n                        <span className=\"text-gray-600\">Progress</span>\n                        <span className=\"font-medium text-gray-900\">\n                          {design.pointsBalance} / {design.pointsRequired} points\n                        </span>\n                      </div>\n                      <div className=\"mt-2 w-full bg-gray-200 rounded-full h-2\">\n                        <div \n                          className=\"bg-yellow-500 h-2 rounded-full transition-all duration-300\"\n                          style={{ width: `${Math.min((design.pointsBalance / design.pointsRequired) * 100, 100)}%` }}\n                        />\n                      </div>\n                    </div>\n                  </div>\n                )}\n\n                {design.cardType === 'milestone' && (\n                  <div className=\"space-y-3\">\n                    <h4 className=\"text-sm font-medium text-gray-700 border-b border-gray-200 pb-1\">Milestone Fields</h4>\n                    <div className=\"grid grid-cols-2 gap-4\">\n                      <TextInput\n                        label=\"Current Milestone\"\n                        value={design.currentMilestone.toString()}\n                        onChange={(value) => updateDesign({ currentMilestone: parseInt(value) || 1 })}\n                        placeholder=\"2\"\n                        id=\"current-milestone\"\n                      />\n                      <TextInput\n                        label=\"Next Milestone Points\"\n                        value={design.nextMilestonePoints.toString()}\n                        onChange={(value) => updateDesign({ nextMilestonePoints: parseInt(value) || 0 })}\n                        placeholder=\"2000\"\n                        id=\"next-milestone-points\"\n                      />\n                    </div>\n                    <div className=\"space-y-2\">\n                      <label className=\"text-sm font-medium text-gray-700\">Milestone Levels</label>\n                      {design.milestoneLevels.map((level, index) => (\n                        <div key={index} className=\"p-3 bg-white rounded-lg border border-gray-100 space-y-2\">\n                          <div className=\"flex items-center justify-between\">\n                            <span className=\"text-sm font-medium text-gray-700\">Level {level.level}</span>\n                            <span className={`text-xs px-2 py-1 rounded-full ${\n                              design.currentMilestone >= level.level \n                                ? 'bg-green-100 text-green-800' \n                                : 'bg-gray-100 text-gray-600'\n                            }`}>\n                              {design.currentMilestone >= level.level ? 'Achieved' : 'Pending'}\n                            </span>\n                          </div>\n                          <div className=\"grid grid-cols-2 gap-2\">\n                            <TextInput\n                              label=\"Name\"\n                              value={level.name}\n                              onChange={(value) => {\n                                const newLevels = [...design.milestoneLevels];\n                                newLevels[index] = { ...level, name: value };\n                                updateDesign({ milestoneLevels: newLevels });\n                              }}\n                              placeholder=\"Bronze\"\n                              id={`milestone-name-${index}`}\n                            />\n                            <TextInput\n                              label=\"Points Required\"\n                              value={level.pointsRequired.toString()}\n                              onChange={(value) => {\n                                const newLevels = [...design.milestoneLevels];\n                                newLevels[index] = { ...level, pointsRequired: parseInt(value) || 0 };\n                                updateDesign({ milestoneLevels: newLevels });\n                              }}\n                              placeholder=\"500\"\n                              id={`milestone-points-${index}`}\n                            />\n                          </div>\n                          <TextInput\n                            label=\"Reward\"\n                            value={level.reward}\n                            onChange={(value) => {\n                              const newLevels = [...design.milestoneLevels];\n                              newLevels[index] = { ...level, reward: value };\n                              updateDesign({ milestoneLevels: newLevels });\n                            }}\n                            placeholder=\"10% off\"\n                            id={`milestone-reward-${index}`}\n                          />\n                        </div>\n                      ))}\n                    </div>\n                  </div>\n                )}\n\n              </div>\n            </div>\n          </div>\n\n          {/* Stamps Section - Only for Redemption Cards */}\n          {design.cardType === 'redemption' && (\n            <div className=\"border border-gray-200 rounded-lg overflow-hidden\">\n              <SectionHeader\n                title=\"Stamps\"\n                icon={<Grid className=\"w-4 h-4 text-purple-600\" />}\n                isExpanded={expandedSections.stamps}\n                onToggle={() => toggleSection('stamps')}\n              />\n              <div \n                className={`transition-all duration-200 ease-out ${\n                  expandedSections.stamps ? 'max-h-[70vh] opacity-100 overflow-y-auto' : 'max-h-0 opacity-0 overflow-hidden'\n                }`}\n              >\n                <div className=\"p-4 space-y-4 bg-gray-50\">\n                  <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-3 mb-4\">\n                    <p className=\"text-xs text-blue-700\">\n                      <strong>Note:</strong> This area is just to help you visualize how the final design will look like.\n                    </p>\n                  </div>\n                  <div className=\"grid grid-cols-2 gap-4\">\n                    <div className=\"space-y-2\">\n                      <label className=\"text-sm font-medium text-gray-700\">Total Stamps</label>\n                      <select\n                        value={design.totalStamps}\n                        onChange={(e) => {\n                          const newTotal = parseInt(e.target.value);\n                          updateDesign({ \n                            totalStamps: newTotal,\n                            stampsEarned: Math.min(design.stampsEarned, newTotal)\n                          });\n                        }}\n                        className=\"w-full px-3 py-2 text-sm border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all\"\n                      >\n                        {Array.from({ length: 30 }, (_, i) => (\n                          <option key={i + 1} value={i + 1}>\n                            {i + 1} stamps\n                          </option>\n                        ))}\n                      </select>\n                      <p className=\"text-xs text-gray-500\">Total number of stamps needed</p>\n                    </div>\n                    <div className=\"space-y-2\">\n                      <label className=\"text-sm font-medium text-gray-700\">Stamps Redeemed</label>\n                      <select\n                        value={design.stampsEarned}\n                        onChange={(e) => updateDesign({ \n                          stampsEarned: parseInt(e.target.value) \n                        })}\n                        className=\"w-full px-3 py-2 text-sm border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all\"\n                      >\n                        {Array.from({ length: design.totalStamps + 1 }, (_, i) => (\n                          <option key={i} value={i}>\n                            {i} stamps\n                          </option>\n                        ))}\n                      </select>\n                      <p className=\"text-xs text-gray-500\">Cannot exceed total stamps</p>\n                    </div>\n                  </div>\n                  <div className=\"p-3 bg-white rounded-lg border border-gray-100\">\n                    <div className=\"flex items-center justify-between text-sm\">\n                      <span className=\"text-gray-600\">Progress</span>\n                      <span className=\"font-medium text-gray-900\">\n                        {design.stampsEarned} / {design.totalStamps} redeemed\n                      </span>\n                    </div>\n                    <div className=\"mt-2 w-full bg-gray-200 rounded-full h-2\">\n                      <div \n                        className=\"bg-blue-600 h-2 rounded-full transition-all duration-300\"\n                        style={{ width: `${(design.stampsEarned / design.totalStamps) * 100}%` }}\n                      />\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          )}\n\n          {/* Images Section */}\n          <div className=\"border border-gray-200 rounded-lg overflow-hidden\">\n            <SectionHeader\n              title=\"Images\"\n              icon={<ImageIcon className=\"w-4 h-4 text-pink-600\" />}\n              isExpanded={expandedSections.images}\n              onToggle={() => toggleSection('images')}\n            />\n            <div \n              className={`transition-all duration-200 ease-out ${\n                expandedSections.images ? 'max-h-[70vh] opacity-100 overflow-y-auto' : 'max-h-0 opacity-0 overflow-hidden'\n              }`}\n            >\n              <div className=\"p-4 space-y-4 bg-gray-50\">\n                {/* Logo Image Upload */}\n                <div className=\"space-y-2\">\n                  <label className=\"text-sm font-medium text-gray-700\">Logo (top-left)</label>\n                  <div className=\"flex items-start space-x-3\">\n                    <div className=\"w-12 h-12 bg-gray-100 rounded border flex items-center justify-center overflow-hidden\">\n                      {design.logoImage ? (\n                        <img \n                          src={design.logoImage} \n                          alt=\"Logo\" \n                          style={{ \n                            width: '100%',\n                            height: '100%',\n                            objectFit: 'contain',\n                            backgroundColor: 'transparent'\n                          }}\n                        />\n                      ) : (\n                        <span className=\"text-xs text-gray-400\">Logo</span>\n                      )}\n                    </div>\n                    <input\n                      type=\"file\"\n                      accept=\"image/*\"\n                      onChange={(e) => {\n                        const file = e.target.files?.[0];\n                        if (!file) return;\n                        const reader = new FileReader();\n                        reader.onload = (ev) => {\n                          const logoImage = String(ev.target?.result || '');\n                          \n                          // Create an image to get dimensions\n                          const img = new Image();\n                          img.onload = () => {\n                            const aspectRatio = img.width / img.height;\n                            const format = aspectRatio > 1.5 ? 'wide' : 'square';\n                            const hideLogoText = format === 'wide';\n                            \n                            updateDesign({ \n                              logoImage,\n                              logoFormat: format,\n                              hideLogoText\n                            });\n                          };\n                          img.src = logoImage;\n                        };\n                        reader.readAsDataURL(file);\n                      }}\n                      className=\"flex-1 text-sm\"\n                    />\n                  </div>\n                  <div className=\"space-y-2\">\n                    <p className=\"text-xs text-gray-500\">\n                      <strong>Dynamic sizing:</strong> Square images (1:1) → 50×50px with logo text. \n                      Wide images (&gt;1.5:1) → 160×50px, logo text hidden.\n                    </p>\n                    {design.logoImage && (\n                      <div className={`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${\n                        design.logoFormat === 'wide' \n                          ? 'bg-blue-100 text-blue-800' \n                          : 'bg-green-100 text-green-800'\n                      }`}>\n                        {design.logoFormat === 'wide' \n                          ? `📏 Wide format (160×50px) - Logo text hidden` \n                          : `⬜ Square format (50×50px) - Logo text visible`\n                        }\n                      </div>\n                    )}\n                  </div>\n                </div>\n\n                {/* Unredeemed Icon */}\n                <div className=\"space-y-2\">\n                  <label className=\"text-sm font-medium text-gray-700\">Stamp Icon (Unredeemed)</label>\n                  <div className=\"flex items-start space-x-3\">\n                    <div className=\"w-12 h-12 bg-white rounded border flex items-center justify-center overflow-hidden\">\n                      {design.stampIconUnredeemed ? (\n                        <img src={design.stampIconUnredeemed} alt=\"Unredeemed icon\" className=\"w-full h-full object-contain\" />\n                      ) : (\n                        <span className=\"text-xs text-gray-400\">Unrdm</span>\n                      )}\n                    </div>\n                    <input\n                      type=\"file\"\n                      accept=\"image/*\"\n                      onChange={(e) => {\n                        const file = e.target.files?.[0];\n                        if (!file) return;\n                        const reader = new FileReader();\n                        reader.onload = (ev) => updateDesign({ stampIconUnredeemed: String(ev.target?.result || '') });\n                        reader.readAsDataURL(file);\n                      }}\n                      className=\"flex-1 text-sm\"\n                    />\n                  </div>\n                </div>\n\n                {/* Use Same Icon Toggle */}\n                <label className=\"inline-flex items-center space-x-2\">\n                  <input\n                    type=\"checkbox\"\n                    checked={!!design.useSameStampIcon}\n                    onChange={(e) => updateDesign({ useSameStampIcon: e.target.checked })}\n                    className=\"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 focus:ring-2\"\n                  />\n                  <span className=\"text-sm text-gray-700\">Use Same Icon for Redeemed</span>\n                </label>\n\n                {/* Redeemed Icon (hidden when using same) */}\n                {!design.useSameStampIcon && (\n                  <div className=\"space-y-2\">\n                    <label className=\"text-sm font-medium text-gray-700\">Stamp Icon (Redeemed)</label>\n                    <div className=\"flex items-start space-x-3\">\n                      <div className=\"w-12 h-12 bg-white rounded border flex items-center justify-center overflow-hidden\">\n                        {design.stampIconRedeemed ? (\n                          <img src={design.stampIconRedeemed} alt=\"Redeemed icon\" className=\"w-full h-full object-contain\" />\n                        ) : (\n                          <span className=\"text-xs text-gray-400\">Rdm</span>\n                        )}\n                      </div>\n                      <input\n                        type=\"file\"\n                        accept=\"image/*\"\n                        onChange={(e) => {\n                          const file = e.target.files?.[0];\n                          if (!file) return;\n                          const reader = new FileReader();\n                          reader.onload = (ev) => updateDesign({ stampIconRedeemed: String(ev.target?.result || '') });\n                          reader.readAsDataURL(file);\n                        }}\n                        className=\"flex-1 text-sm\"\n                      />\n                    </div>\n                  </div>\n                )}\n                <p className=\"text-xs text-gray-500\">Recommended size: 32×32px or larger. PNG with transparency preferred.</p>\n              </div>\n            </div>\n          </div>\n\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default DesignEditor;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}