{"ast":null,"code":"var _jsxFileName = \"/Users/shawnlee/Documents/GitHub/passes-mktr/src/frontend/src/App.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useCallback } from 'react';\nimport PassPreview from './components/PassPreview';\nimport DesignEditor from './components/DesignEditor';\nimport './App.css';\nimport { CanvasPreviewCapture } from './services/previewCapture';\nimport { RotateCcw, Undo2, Redo2, CreditCard, Star, Target } from 'lucide-react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const defaultExp = (() => {\n    const d = new Date();\n    d.setFullYear(d.getFullYear() + 1);\n    return d.toISOString().slice(0, 10);\n  })();\n  const getDefaultDesign = (cardType = 'redemption') => ({\n    cardType,\n    backgroundColor: '#8B4513',\n    foregroundColor: '#FFFFFF',\n    labelColor: '#FFFFFF',\n    stripBackgroundColor: '#F5F5F5',\n    logoText: '',\n    logoImage: null,\n    logoFormat: 'square',\n    hideLogoText: false,\n    secondaryFields: cardType === 'redemption' ? [{\n      label: 'Card Holder',\n      value: 'John Doe'\n    }, {\n      label: 'Redeemed',\n      value: '4 out of 10'\n    }] : cardType === 'points' ? [{\n      label: 'Card Holder',\n      value: 'John Doe'\n    }, {\n      label: 'Next Reward',\n      value: 'at 2,000 points'\n    }] : cardType === 'milestone' ? [{\n      label: 'Card Holder',\n      value: 'John Doe'\n    }, {\n      label: 'Next Reward',\n      value: 'Free coffee at 5 stamps'\n    } // Will be calculated dynamically\n    ] : [{\n      label: 'Card Holder',\n      value: 'John Doe'\n    }, {\n      label: 'Redeemed',\n      value: '4 out of 10'\n    }],\n    auxiliaryField: {\n      label: 'Next Reward',\n      value: cardType === 'points' ? 'Next Reward at 2,000 points' : cardType === 'milestone' ? '' : 'Free coffee at 10 stamps'\n    },\n    // Redemption Card Fields\n    stampsEarned: 4,\n    totalStamps: 10,\n    // Milestone Card Fields\n    numberOfMilestones: 2,\n    milestonePositions: [5, 10],\n    // Points Card Fields\n    pointsBalance: 1250,\n    pointsEarned: 1250,\n    pointsRequired: 2000,\n    pointsPerTransaction: 50,\n    nextRewardPoints: 2000,\n    // Legacy Milestone Card Fields (keeping for compatibility)\n    milestoneLevels: [{\n      level: 1,\n      name: 'Bronze',\n      pointsRequired: 500,\n      reward: '10% off'\n    }, {\n      level: 2,\n      name: 'Silver',\n      pointsRequired: 1000,\n      reward: '15% off'\n    }, {\n      level: 3,\n      name: 'Gold',\n      pointsRequired: 2000,\n      reward: '20% off'\n    }, {\n      level: 4,\n      name: 'Platinum',\n      pointsRequired: 5000,\n      reward: 'Free coffee'\n    }],\n    currentMilestone: 2,\n    nextMilestonePoints: 2000,\n    logoSize: 38,\n    cardWidth: 375,\n    cardHeight: 504,\n    stripHeight: 144,\n    headerHeight: 80,\n    secondaryHeight: 100,\n    auxiliaryHeight: 80,\n    barcodeHeight: 100,\n    qrAltText: 'Loyalty Card QR Code',\n    expirationDate: defaultExp,\n    hasExpiryDate: false,\n    stripBackgroundImage: null,\n    stripBackgroundOpacity: 0.8,\n    // Stamp Icons\n    stampIconUnredeemed: null,\n    stampIconRedeemed: null,\n    stampIconMilestone: null,\n    useSameStampIcon: true,\n    useMilestoneOverlay: true\n  });\n  const [passDesign, setPassDesign] = useState(getDefaultDesign());\n  const [designHistory, setDesignHistory] = useState([getDefaultDesign()]);\n  const [historyIndex, setHistoryIndex] = useState(0);\n  const [showEditor, setShowEditor] = useState(true);\n  const [isGenerating, setIsGenerating] = useState(false);\n\n  // History management functions\n  const addToHistory = newDesign => {\n    // Remove any future history if we're not at the end\n    const newHistory = designHistory.slice(0, historyIndex + 1);\n    newHistory.push(newDesign);\n\n    // Limit history to 50 items\n    if (newHistory.length > 50) {\n      newHistory.shift();\n    } else {\n      setHistoryIndex(historyIndex + 1);\n    }\n    setDesignHistory(newHistory);\n    setPassDesign(newDesign);\n  };\n  const handleUndo = useCallback(() => {\n    if (historyIndex > 0) {\n      const newIndex = historyIndex - 1;\n      setHistoryIndex(newIndex);\n      setPassDesign(designHistory[newIndex]);\n    }\n  }, [historyIndex, designHistory]);\n  const handleRedo = useCallback(() => {\n    if (historyIndex < designHistory.length - 1) {\n      const newIndex = historyIndex + 1;\n      setHistoryIndex(newIndex);\n      setPassDesign(designHistory[newIndex]);\n    }\n  }, [historyIndex, designHistory]);\n  const handleReset = () => {\n    if (window.confirm('Are you sure you want to reset to default? This will clear all your changes and cannot be undone.')) {\n      const defaultDesign = getDefaultDesign();\n      setPassDesign(defaultDesign);\n      setDesignHistory([defaultDesign]);\n      setHistoryIndex(0);\n    }\n  };\n  const handleDesignChange = newDesign => {\n    addToHistory(newDesign);\n  };\n  const handleCardTypeChange = newCardType => {\n    if (newCardType === passDesign.cardType) return;\n\n    // Create a new design with the selected card type and appropriate default fields\n    const newDesign = getDefaultDesign(newCardType);\n\n    // Preserve some common settings\n    newDesign.backgroundColor = passDesign.backgroundColor;\n    newDesign.foregroundColor = passDesign.foregroundColor;\n    newDesign.labelColor = passDesign.labelColor;\n    newDesign.stripBackgroundColor = passDesign.stripBackgroundColor;\n    newDesign.stripBackgroundImage = passDesign.stripBackgroundImage;\n    newDesign.stripBackgroundOpacity = passDesign.stripBackgroundOpacity;\n    newDesign.logoText = passDesign.logoText;\n    newDesign.logoImage = passDesign.logoImage;\n    newDesign.logoFormat = passDesign.logoFormat;\n    newDesign.hideLogoText = passDesign.hideLogoText;\n    newDesign.qrAltText = passDesign.qrAltText;\n    newDesign.expirationDate = passDesign.expirationDate;\n    newDesign.hasExpiryDate = passDesign.hasExpiryDate;\n    addToHistory(newDesign);\n  };\n\n  // Keyboard shortcuts\n  React.useEffect(() => {\n    const handleKeyDown = e => {\n      if (e.metaKey || e.ctrlKey) {\n        if (e.key === 'z' && !e.shiftKey) {\n          e.preventDefault();\n          handleUndo();\n        } else if (e.key === 'z' && e.shiftKey || e.key === 'y') {\n          e.preventDefault();\n          handleRedo();\n        }\n      }\n    };\n    window.addEventListener('keydown', handleKeyDown);\n    return () => window.removeEventListener('keydown', handleKeyDown);\n  }, [historyIndex, designHistory, handleUndo, handleRedo]);\n  const handleGeneratePass = async () => {\n    try {\n      setIsGenerating(true);\n      // 1) Capture strip from live preview\n      const stripEl = document.querySelector('.stamp-strip-container');\n      if (!stripEl) {\n        alert('Could not find the live preview strip to capture.');\n        return;\n      }\n      const capturer = new CanvasPreviewCapture();\n      const stripPngDataUrl = await capturer.captureStripElement(stripEl);\n\n      // 2) Build payload from current design\n      const payload = {\n        campaignId: '550e8400-e29b-41d4-a716-446655440001',\n        campaignName: passDesign.logoText || '',\n        tenantName: 'MKTR Platform',\n        customerEmail: 'demo@mktr.sg',\n        customerName: passDesign.secondaryFields && passDesign.secondaryFields.length > 0 ? passDesign.secondaryFields[0].value || 'Customer Name' : 'Customer Name',\n        stampsEarned: passDesign.stampsEarned,\n        stampsRequired: passDesign.totalStamps,\n        expirationDate: passDesign.expirationDate,\n        hasExpiryDate: passDesign.hasExpiryDate,\n        colors: {\n          foreground: passDesign.foregroundColor,\n          background: passDesign.backgroundColor,\n          label: passDesign.labelColor,\n          stripBackground: passDesign.stripBackgroundColor\n        },\n        images: {\n          stripImage: stripPngDataUrl,\n          logo: passDesign.logoImage || undefined,\n          logoImage: passDesign.logoImage || undefined,\n          stripBackground: passDesign.stripBackgroundImage || undefined,\n          stripBackgroundOpacity: passDesign.stripBackgroundOpacity || 0.8\n        },\n        qrAltText: passDesign.qrAltText || 'Loyalty Card QR Code',\n        // Milestone configuration\n        milestones: passDesign.cardType === 'milestone' ? {\n          numberOfMilestones: passDesign.numberOfMilestones || 2,\n          milestonePositions: passDesign.milestonePositions || [5, 10],\n          useMilestoneOverlay: true\n        } : undefined,\n        fieldConfig: {\n          fields: {\n            header: [passDesign.cardType === 'redemption' ? {\n              key: 'expiryDate',\n              label: 'EXPIRY',\n              value: passDesign.hasExpiryDate && passDesign.expirationDate ? new Date(passDesign.expirationDate).toLocaleDateString('en-GB', {\n                day: '2-digit',\n                month: '2-digit',\n                year: 'numeric'\n              }).replace(/\\//g, '/') : 'No Expiry',\n              textAlignment: 'PKTextAlignmentRight'\n            } : passDesign.cardType === 'points' ? {\n              key: 'pointsValue',\n              label: 'POINTS',\n              value: (passDesign.pointsBalance || 0).toLocaleString(),\n              textAlignment: 'PKTextAlignmentRight'\n            } : passDesign.cardType === 'milestone' ? {\n              key: 'nextReward',\n              label: 'NEXT REWARD',\n              value: (() => {\n                // Calculate next milestone\n                const milestonePositions = passDesign.milestonePositions || [];\n                const nextMilestone = milestonePositions.find(pos => pos > passDesign.stampsEarned);\n                if (nextMilestone) {\n                  const stampsNeeded = nextMilestone - passDesign.stampsEarned;\n                  return `${stampsNeeded} stamp${stampsNeeded !== 1 ? 's' : ''} more`;\n                } else {\n                  // All milestones achieved\n                  return 'Fully Redeemed';\n                }\n              })(),\n              textAlignment: 'PKTextAlignmentRight'\n            } : {\n              key: 'pointsValue',\n              label: 'POINTS',\n              value: '1836',\n              textAlignment: 'PKTextAlignmentRight'\n            }],\n            primary: [],\n            secondary: passDesign.cardType === 'redemption' ? [{\n              key: 'cardHolder',\n              label: 'Card Holder',\n              value: passDesign.secondaryFields && passDesign.secondaryFields.length > 0 ? passDesign.secondaryFields[0].value : 'John Doe',\n              textAlignment: 'PKTextAlignmentLeft'\n            }, {\n              key: 'redeemed',\n              label: 'Redeemed',\n              value: `${passDesign.stampsEarned} out of ${passDesign.totalStamps}`,\n              textAlignment: 'PKTextAlignmentLeft'\n            }] : passDesign.cardType === 'points' ? [{\n              key: 'cardHolder',\n              label: 'Card Holder',\n              value: passDesign.secondaryFields && passDesign.secondaryFields.length > 0 ? passDesign.secondaryFields[0].value : 'John Doe',\n              textAlignment: 'PKTextAlignmentLeft'\n            }, {\n              key: 'nextReward',\n              label: 'Next Reward',\n              value: 'at 2,000 points',\n              textAlignment: 'PKTextAlignmentRight'\n            }] : passDesign.cardType === 'milestone' ? [{\n              key: 'cardHolder',\n              label: 'Card Holder',\n              value: passDesign.secondaryFields && passDesign.secondaryFields.length > 0 ? passDesign.secondaryFields[0].value : 'John Doe',\n              textAlignment: 'PKTextAlignmentLeft'\n            }, {\n              key: 'nextReward',\n              label: 'Next Reward',\n              value: (() => {\n                // Calculate next milestone dynamically\n                const milestonePositions = passDesign.milestonePositions || [];\n                const nextMilestone = milestonePositions.find(pos => pos > passDesign.stampsEarned);\n                if (nextMilestone) {\n                  return `Free coffee at ${nextMilestone} stamps`;\n                } else {\n                  return 'All rewards earned!';\n                }\n              })(),\n              textAlignment: 'PKTextAlignmentRight'\n            }] : [],\n            auxiliary: []\n          }\n        }\n      };\n\n      // 3) Request backend to generate working pass and return .pkpass\n      const res = await fetch('/api/passes/generate-working', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(payload)\n      });\n      if (!res.ok) {\n        const err = await res.json().catch(() => ({}));\n        throw new Error(err.message || 'Failed to generate pass');\n      }\n\n      // 4) Debug: Log provenance headers for the files used\n      try {\n        const logo = res.headers.get('X-Pass-Logo');\n        const logo2x = res.headers.get('X-Pass-Logo2x');\n        const logo3x = res.headers.get('X-Pass-Logo3x');\n        const logoSource = res.headers.get('X-Pass-Logo-Source');\n        const icon = res.headers.get('X-Pass-Icon');\n        const icon2x = res.headers.get('X-Pass-Icon2x');\n        const strip = res.headers.get('X-Pass-Strip');\n        const strip2x = res.headers.get('X-Pass-Strip2x');\n        const strip3x = res.headers.get('X-Pass-Strip3x');\n        console.log('[PKPASS FILES USED]', {\n          logo,\n          logo2x,\n          logo3x,\n          logoSource,\n          icon,\n          icon2x,\n          strip,\n          strip2x,\n          strip3x\n        });\n      } catch {}\n\n      // 5) Download the pkpass\n      const blob = await res.blob();\n      const url = window.URL.createObjectURL(blob);\n      const a = document.createElement('a');\n      a.href = url;\n      a.download = `${(payload.campaignName || 'loyalty_pass').toString().replace(/\\s+/g, '_')}.pkpass`;\n      document.body.appendChild(a);\n      a.click();\n      a.remove();\n      window.URL.revokeObjectURL(url);\n    } catch (e) {\n      console.error('Generate pass failed', e);\n      alert((e === null || e === void 0 ? void 0 : e.message) || 'Failed to generate pass');\n    } finally {\n      setIsGenerating(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gray-50\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white shadow-sm border-b border-gray-200\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-between items-center h-16\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center space-x-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-8 h-8 bg-blue-600 rounded-lg flex items-center justify-center\",\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-white font-bold text-sm\",\n                children: \"\\uD83D\\uDCF1\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 373,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 372,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n                className: \"text-xl font-semibold text-gray-900\",\n                children: \"Apple Wallet Pass Designer\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 376,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-sm text-gray-500\",\n                children: \"Create custom loyalty passes\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 379,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 375,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 371,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center space-x-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center space-x-1 bg-gray-100 rounded-lg p-1\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: handleUndo,\n                disabled: historyIndex <= 0,\n                className: \"p-2 rounded-md hover:bg-white disabled:opacity-50 disabled:cursor-not-allowed transition-all\",\n                title: \"Undo (Cmd+Z)\",\n                children: /*#__PURE__*/_jsxDEV(Undo2, {\n                  className: \"w-4 h-4\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 391,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 385,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: handleRedo,\n                disabled: historyIndex >= designHistory.length - 1,\n                className: \"p-2 rounded-md hover:bg-white disabled:opacity-50 disabled:cursor-not-allowed transition-all\",\n                title: \"Redo (Cmd+Shift+Z)\",\n                children: /*#__PURE__*/_jsxDEV(Redo2, {\n                  className: \"w-4 h-4\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 399,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 393,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"w-px h-6 bg-gray-300 mx-1\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 401,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: handleReset,\n                className: \"p-2 rounded-md hover:bg-white text-red-600 hover:text-red-700 transition-all\",\n                title: \"Reset to Default\",\n                children: /*#__PURE__*/_jsxDEV(RotateCcw, {\n                  className: \"w-4 h-4\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 407,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 402,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 384,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-px h-6 bg-gray-300\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 411,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setShowEditor(!showEditor),\n              className: `px-4 py-2 rounded-lg font-medium transition-all duration-200 ${showEditor ? 'bg-gray-100 text-gray-700 hover:bg-gray-200' : 'bg-blue-600 text-white hover:bg-blue-700 shadow-sm'}`,\n              children: showEditor ? 'Hide Editor' : 'Show Editor'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 413,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 382,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 370,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 369,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 368,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex h-[calc(100vh-64px)]\",\n      children: [showEditor && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-96 bg-white border-r border-gray-200 shadow-sm\",\n        children: /*#__PURE__*/_jsxDEV(DesignEditor, {\n          design: passDesign,\n          onDesignChange: handleDesignChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 433,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 432,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex-1 flex flex-col items-center justify-center p-8 bg-gradient-to-br from-gray-50 to-gray-100\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center mb-8\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-2xl font-bold text-gray-900 mb-2\",\n            children: \"Live Preview\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 443,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-gray-600\",\n            children: \"Your Apple Wallet pass updates in real-time\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 444,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 442,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-8\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-white rounded-xl shadow-sm border border-gray-200 p-1\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex space-x-1\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => handleCardTypeChange('redemption'),\n                className: `flex items-center space-x-2 px-4 py-3 rounded-lg font-medium transition-all duration-200 ${passDesign.cardType === 'redemption' ? 'bg-blue-600 text-white shadow-sm' : 'text-gray-600 hover:bg-gray-100 hover:text-gray-900'}`,\n                children: [/*#__PURE__*/_jsxDEV(CreditCard, {\n                  className: \"w-4 h-4\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 459,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"Redemption Card\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 460,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 451,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => handleCardTypeChange('points'),\n                className: `flex items-center space-x-2 px-4 py-3 rounded-lg font-medium transition-all duration-200 ${passDesign.cardType === 'points' ? 'bg-blue-600 text-white shadow-sm' : 'text-gray-600 hover:bg-gray-100 hover:text-gray-900'}`,\n                children: [/*#__PURE__*/_jsxDEV(Star, {\n                  className: \"w-4 h-4\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 470,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"Points Card\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 471,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 462,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => handleCardTypeChange('milestone'),\n                className: `flex items-center space-x-2 px-4 py-3 rounded-lg font-medium transition-all duration-200 ${passDesign.cardType === 'milestone' ? 'bg-blue-600 text-white shadow-sm' : 'text-gray-600 hover:bg-gray-100 hover:text-gray-900'}`,\n                children: [/*#__PURE__*/_jsxDEV(Target, {\n                  className: \"w-4 h-4\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 481,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"Milestone Card\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 482,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 473,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 450,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 449,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm text-gray-500 mt-2 text-center\",\n            children: \"Switch between card types to access different editor controls\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 486,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-2 text-center\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"w-2 h-2 bg-blue-500 rounded-full mr-2 animate-pulse\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 491,\n                columnNumber: 17\n              }, this), passDesign.cardType === 'redemption' ? 'Redemption Card' : passDesign.cardType === 'points' ? 'Points Card' : 'Milestone Card']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 490,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 489,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 448,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"transform hover:scale-105 transition-transform duration-300\",\n          children: /*#__PURE__*/_jsxDEV(PassPreview, {\n            design: passDesign\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 497,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 496,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-8 text-center\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-center gap-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"inline-flex items-center space-x-2 px-4 py-2 bg-white rounded-lg shadow-sm border border-gray-200\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"w-2 h-2 bg-green-500 rounded-full animate-pulse\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 502,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-sm text-gray-600\",\n                children: \"Live Preview Active\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 503,\n                columnNumber: 15\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 501,\n              columnNumber: 13\n            }, this), designHistory.length > 1 && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"inline-flex items-center space-x-2 px-3 py-2 bg-white rounded-lg shadow-sm border border-gray-200\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-xs text-gray-500\",\n                children: \"History:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 507,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-xs font-medium text-gray-700\",\n                children: [historyIndex + 1, \" / \", designHistory.length]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 508,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 506,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleGeneratePass,\n              disabled: isGenerating,\n              className: `px-4 py-2 rounded-lg font-medium transition-all duration-200 ${isGenerating ? 'bg-gray-200 text-gray-500 cursor-not-allowed' : 'bg-blue-600 text-white hover:bg-blue-700 shadow-sm'}`,\n              children: isGenerating ? 'Generatingâ€¦' : 'Generate Pass'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 513,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 500,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 499,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 441,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 429,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 366,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"sFnOvCVrXLSXbp/Z7AqUliirtp8=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useCallback","PassPreview","DesignEditor","CanvasPreviewCapture","RotateCcw","Undo2","Redo2","CreditCard","Star","Target","jsxDEV","_jsxDEV","App","_s","defaultExp","d","Date","setFullYear","getFullYear","toISOString","slice","getDefaultDesign","cardType","backgroundColor","foregroundColor","labelColor","stripBackgroundColor","logoText","logoImage","logoFormat","hideLogoText","secondaryFields","label","value","auxiliaryField","stampsEarned","totalStamps","numberOfMilestones","milestonePositions","pointsBalance","pointsEarned","pointsRequired","pointsPerTransaction","nextRewardPoints","milestoneLevels","level","name","reward","currentMilestone","nextMilestonePoints","logoSize","cardWidth","cardHeight","stripHeight","headerHeight","secondaryHeight","auxiliaryHeight","barcodeHeight","qrAltText","expirationDate","hasExpiryDate","stripBackgroundImage","stripBackgroundOpacity","stampIconUnredeemed","stampIconRedeemed","stampIconMilestone","useSameStampIcon","useMilestoneOverlay","passDesign","setPassDesign","designHistory","setDesignHistory","historyIndex","setHistoryIndex","showEditor","setShowEditor","isGenerating","setIsGenerating","addToHistory","newDesign","newHistory","push","length","shift","handleUndo","newIndex","handleRedo","handleReset","window","confirm","defaultDesign","handleDesignChange","handleCardTypeChange","newCardType","useEffect","handleKeyDown","e","metaKey","ctrlKey","key","shiftKey","preventDefault","addEventListener","removeEventListener","handleGeneratePass","stripEl","document","querySelector","alert","capturer","stripPngDataUrl","captureStripElement","payload","campaignId","campaignName","tenantName","customerEmail","customerName","stampsRequired","colors","foreground","background","stripBackground","images","stripImage","logo","undefined","milestones","fieldConfig","fields","header","toLocaleDateString","day","month","year","replace","textAlignment","toLocaleString","nextMilestone","find","pos","stampsNeeded","primary","secondary","auxiliary","res","fetch","method","headers","body","JSON","stringify","ok","err","json","catch","Error","message","get","logo2x","logo3x","logoSource","icon","icon2x","strip","strip2x","strip3x","console","log","blob","url","URL","createObjectURL","a","createElement","href","download","toString","appendChild","click","remove","revokeObjectURL","error","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","disabled","title","design","onDesignChange","_c","$RefreshReg$"],"sources":["/Users/shawnlee/Documents/GitHub/passes-mktr/src/frontend/src/App.tsx"],"sourcesContent":["import React, { useState, useCallback } from 'react';\nimport PassPreview from './components/PassPreview';\nimport DesignEditor from './components/DesignEditor';\nimport { PassDesign, CardType } from './types';\nimport './App.css';\nimport { CanvasPreviewCapture } from './services/previewCapture';\nimport { RotateCcw, Undo2, Redo2, CreditCard, Star, Target } from 'lucide-react';\n\nfunction App() {\n  const defaultExp = (() => {\n    const d = new Date();\n    d.setFullYear(d.getFullYear() + 1);\n    return d.toISOString().slice(0, 10);\n  })();\n  \n  const getDefaultDesign = (cardType: CardType = 'redemption'): PassDesign => ({\n    cardType,\n    backgroundColor: '#8B4513',\n    foregroundColor: '#FFFFFF',\n    labelColor: '#FFFFFF',\n    stripBackgroundColor: '#F5F5F5',\n    logoText: '',\n    logoImage: null,\n    logoFormat: 'square',\n    hideLogoText: false,\n    secondaryFields: cardType === 'redemption' ? [\n      { label: 'Card Holder', value: 'John Doe' },\n      { label: 'Redeemed', value: '4 out of 10' }\n    ] : cardType === 'points' ? [\n      { label: 'Card Holder', value: 'John Doe' },\n      { label: 'Next Reward', value: 'at 2,000 points' }\n    ] : cardType === 'milestone' ? [\n      { label: 'Card Holder', value: 'John Doe' },\n      { label: 'Next Reward', value: 'Free coffee at 5 stamps' } // Will be calculated dynamically\n    ] : [\n      { label: 'Card Holder', value: 'John Doe' },\n      { label: 'Redeemed', value: '4 out of 10' }\n    ],\n    auxiliaryField: {\n      label: 'Next Reward',\n      value: cardType === 'points' ? 'Next Reward at 2,000 points' : cardType === 'milestone' ? '' : 'Free coffee at 10 stamps'\n    },\n    // Redemption Card Fields\n    stampsEarned: 4,\n    totalStamps: 10,\n    // Milestone Card Fields\n    numberOfMilestones: 2,\n    milestonePositions: [5, 10],\n    // Points Card Fields\n    pointsBalance: 1250,\n    pointsEarned: 1250,\n    pointsRequired: 2000,\n    pointsPerTransaction: 50,\n    nextRewardPoints: 2000,\n    // Legacy Milestone Card Fields (keeping for compatibility)\n    milestoneLevels: [\n      { level: 1, name: 'Bronze', pointsRequired: 500, reward: '10% off' },\n      { level: 2, name: 'Silver', pointsRequired: 1000, reward: '15% off' },\n      { level: 3, name: 'Gold', pointsRequired: 2000, reward: '20% off' },\n      { level: 4, name: 'Platinum', pointsRequired: 5000, reward: 'Free coffee' }\n    ],\n    currentMilestone: 2,\n    nextMilestonePoints: 2000,\n    logoSize: 38,\n    cardWidth: 375,\n    cardHeight: 504,\n    stripHeight: 144,\n    headerHeight: 80,\n    secondaryHeight: 100,\n    auxiliaryHeight: 80,\n    barcodeHeight: 100,\n    qrAltText: 'Loyalty Card QR Code',\n    expirationDate: defaultExp,\n    hasExpiryDate: false,\n    stripBackgroundImage: null,\n    stripBackgroundOpacity: 0.8,\n    // Stamp Icons\n    stampIconUnredeemed: null,\n    stampIconRedeemed: null,\n    stampIconMilestone: null,\n    useSameStampIcon: true,\n    useMilestoneOverlay: true\n  });\n\n  const [passDesign, setPassDesign] = useState<PassDesign>(getDefaultDesign());\n  const [designHistory, setDesignHistory] = useState<PassDesign[]>([getDefaultDesign()]);\n  const [historyIndex, setHistoryIndex] = useState(0);\n  const [showEditor, setShowEditor] = useState(true);\n  const [isGenerating, setIsGenerating] = useState(false);\n\n  // History management functions\n  const addToHistory = (newDesign: PassDesign) => {\n    // Remove any future history if we're not at the end\n    const newHistory = designHistory.slice(0, historyIndex + 1);\n    newHistory.push(newDesign);\n    \n    // Limit history to 50 items\n    if (newHistory.length > 50) {\n      newHistory.shift();\n    } else {\n      setHistoryIndex(historyIndex + 1);\n    }\n    \n    setDesignHistory(newHistory);\n    setPassDesign(newDesign);\n  };\n\n  const handleUndo = useCallback(() => {\n    if (historyIndex > 0) {\n      const newIndex = historyIndex - 1;\n      setHistoryIndex(newIndex);\n      setPassDesign(designHistory[newIndex]);\n    }\n  }, [historyIndex, designHistory]);\n\n  const handleRedo = useCallback(() => {\n    if (historyIndex < designHistory.length - 1) {\n      const newIndex = historyIndex + 1;\n      setHistoryIndex(newIndex);\n      setPassDesign(designHistory[newIndex]);\n    }\n  }, [historyIndex, designHistory]);\n\n  const handleReset = () => {\n    if (window.confirm('Are you sure you want to reset to default? This will clear all your changes and cannot be undone.')) {\n      const defaultDesign = getDefaultDesign();\n      setPassDesign(defaultDesign);\n      setDesignHistory([defaultDesign]);\n      setHistoryIndex(0);\n    }\n  };\n\n  const handleDesignChange = (newDesign: PassDesign) => {\n    addToHistory(newDesign);\n  };\n\n  const handleCardTypeChange = (newCardType: CardType) => {\n    if (newCardType === passDesign.cardType) return;\n    \n    // Create a new design with the selected card type and appropriate default fields\n    const newDesign = getDefaultDesign(newCardType);\n    \n    // Preserve some common settings\n    newDesign.backgroundColor = passDesign.backgroundColor;\n    newDesign.foregroundColor = passDesign.foregroundColor;\n    newDesign.labelColor = passDesign.labelColor;\n    newDesign.stripBackgroundColor = passDesign.stripBackgroundColor;\n    newDesign.stripBackgroundImage = passDesign.stripBackgroundImage;\n    newDesign.stripBackgroundOpacity = passDesign.stripBackgroundOpacity;\n    newDesign.logoText = passDesign.logoText;\n    newDesign.logoImage = passDesign.logoImage;\n    newDesign.logoFormat = passDesign.logoFormat;\n    newDesign.hideLogoText = passDesign.hideLogoText;\n    newDesign.qrAltText = passDesign.qrAltText;\n    newDesign.expirationDate = passDesign.expirationDate;\n    newDesign.hasExpiryDate = passDesign.hasExpiryDate;\n    \n    addToHistory(newDesign);\n  };\n\n  // Keyboard shortcuts\n  React.useEffect(() => {\n    const handleKeyDown = (e: KeyboardEvent) => {\n      if (e.metaKey || e.ctrlKey) {\n        if (e.key === 'z' && !e.shiftKey) {\n          e.preventDefault();\n          handleUndo();\n        } else if ((e.key === 'z' && e.shiftKey) || e.key === 'y') {\n          e.preventDefault();\n          handleRedo();\n        }\n      }\n    };\n\n    window.addEventListener('keydown', handleKeyDown);\n    return () => window.removeEventListener('keydown', handleKeyDown);\n  }, [historyIndex, designHistory, handleUndo, handleRedo]);\n\n  const handleGeneratePass = async () => {\n    try {\n      setIsGenerating(true);\n      // 1) Capture strip from live preview\n      const stripEl = document.querySelector('.stamp-strip-container') as HTMLElement | null;\n      if (!stripEl) {\n        alert('Could not find the live preview strip to capture.');\n        return;\n      }\n      const capturer = new CanvasPreviewCapture();\n      const stripPngDataUrl = await capturer.captureStripElement(stripEl);\n\n      // 2) Build payload from current design\n      const payload = {\n        campaignId: '550e8400-e29b-41d4-a716-446655440001',\n        campaignName: passDesign.logoText || '',\n        tenantName: 'MKTR Platform',\n        customerEmail: 'demo@mktr.sg',\n        customerName: passDesign.secondaryFields && passDesign.secondaryFields.length > 0 ? (passDesign.secondaryFields[0].value || 'Customer Name') : 'Customer Name',\n        stampsEarned: passDesign.stampsEarned,\n        stampsRequired: passDesign.totalStamps,\n        expirationDate: passDesign.expirationDate,\n        hasExpiryDate: passDesign.hasExpiryDate,\n        colors: {\n          foreground: passDesign.foregroundColor,\n          background: passDesign.backgroundColor,\n          label: passDesign.labelColor,\n          stripBackground: passDesign.stripBackgroundColor\n        },\n        images: {\n          stripImage: stripPngDataUrl,\n          logo: passDesign.logoImage || undefined,\n          logoImage: passDesign.logoImage || undefined,\n          stripBackground: passDesign.stripBackgroundImage || undefined,\n          stripBackgroundOpacity: passDesign.stripBackgroundOpacity || 0.8\n        },\n        qrAltText: passDesign.qrAltText || 'Loyalty Card QR Code',\n        // Milestone configuration\n        milestones: passDesign.cardType === 'milestone' ? {\n          numberOfMilestones: passDesign.numberOfMilestones || 2,\n          milestonePositions: passDesign.milestonePositions || [5, 10],\n          useMilestoneOverlay: true\n        } : undefined,\n        fieldConfig: {\n          fields: {\n            header: [\n              passDesign.cardType === 'redemption' ? {\n                key: 'expiryDate',\n                label: 'EXPIRY',\n                value: passDesign.hasExpiryDate && passDesign.expirationDate ? (\n                  new Date(passDesign.expirationDate).toLocaleDateString('en-GB', {\n                    day: '2-digit',\n                    month: '2-digit',\n                    year: 'numeric'\n                  }).replace(/\\//g, '/')\n                ) : 'No Expiry',\n                textAlignment: 'PKTextAlignmentRight'\n              } : passDesign.cardType === 'points' ? {\n                key: 'pointsValue',\n                label: 'POINTS',\n                value: (passDesign.pointsBalance || 0).toLocaleString(),\n                textAlignment: 'PKTextAlignmentRight'\n              } : passDesign.cardType === 'milestone' ? {\n                key: 'nextReward',\n                label: 'NEXT REWARD',\n                value: (() => {\n                  // Calculate next milestone\n                  const milestonePositions = passDesign.milestonePositions || [];\n                  const nextMilestone = milestonePositions.find(pos => pos > passDesign.stampsEarned);\n                  \n                  if (nextMilestone) {\n                    const stampsNeeded = nextMilestone - passDesign.stampsEarned;\n                    return `${stampsNeeded} stamp${stampsNeeded !== 1 ? 's' : ''} more`;\n                  } else {\n                    // All milestones achieved\n                    return 'Fully Redeemed';\n                  }\n                })(),\n                textAlignment: 'PKTextAlignmentRight'\n              } : {\n                key: 'pointsValue',\n                label: 'POINTS',\n                value: '1836',\n                textAlignment: 'PKTextAlignmentRight'\n              }\n            ],\n            primary: [],\n            secondary: passDesign.cardType === 'redemption' ? [\n              {\n                key: 'cardHolder',\n                label: 'Card Holder',\n                value: passDesign.secondaryFields && passDesign.secondaryFields.length > 0 ? passDesign.secondaryFields[0].value : 'John Doe',\n                textAlignment: 'PKTextAlignmentLeft'\n              },\n              {\n                key: 'redeemed',\n                label: 'Redeemed',\n                value: `${passDesign.stampsEarned} out of ${passDesign.totalStamps}`,\n                textAlignment: 'PKTextAlignmentLeft'\n              }\n            ] : passDesign.cardType === 'points' ? [\n              {\n                key: 'cardHolder',\n                label: 'Card Holder',\n                value: passDesign.secondaryFields && passDesign.secondaryFields.length > 0 ? passDesign.secondaryFields[0].value : 'John Doe',\n                textAlignment: 'PKTextAlignmentLeft'\n              },\n              {\n                key: 'nextReward',\n                label: 'Next Reward',\n                value: 'at 2,000 points',\n                textAlignment: 'PKTextAlignmentRight'\n              }\n            ] : passDesign.cardType === 'milestone' ? [\n              {\n                key: 'cardHolder',\n                label: 'Card Holder',\n                value: passDesign.secondaryFields && passDesign.secondaryFields.length > 0 ? passDesign.secondaryFields[0].value : 'John Doe',\n                textAlignment: 'PKTextAlignmentLeft'\n              },\n              {\n                key: 'nextReward',\n                label: 'Next Reward',\n                value: (() => {\n                  // Calculate next milestone dynamically\n                  const milestonePositions = passDesign.milestonePositions || [];\n                  const nextMilestone = milestonePositions.find(pos => pos > passDesign.stampsEarned);\n                  \n                  if (nextMilestone) {\n                    return `Free coffee at ${nextMilestone} stamps`;\n                  } else {\n                    return 'All rewards earned!';\n                  }\n                })(),\n                textAlignment: 'PKTextAlignmentRight'\n              }\n            ] : [],\n            auxiliary: []\n          }\n        }\n      };\n\n      // 3) Request backend to generate working pass and return .pkpass\n      const res = await fetch('/api/passes/generate-working', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(payload)\n      });\n\n      if (!res.ok) {\n        const err = await res.json().catch(() => ({}));\n        throw new Error(err.message || 'Failed to generate pass');\n      }\n\n      // 4) Debug: Log provenance headers for the files used\n      try {\n        const logo = res.headers.get('X-Pass-Logo');\n        const logo2x = res.headers.get('X-Pass-Logo2x');\n        const logo3x = res.headers.get('X-Pass-Logo3x');\n        const logoSource = res.headers.get('X-Pass-Logo-Source');\n        const icon = res.headers.get('X-Pass-Icon');\n        const icon2x = res.headers.get('X-Pass-Icon2x');\n        const strip = res.headers.get('X-Pass-Strip');\n        const strip2x = res.headers.get('X-Pass-Strip2x');\n        const strip3x = res.headers.get('X-Pass-Strip3x');\n        console.log('[PKPASS FILES USED]', { logo, logo2x, logo3x, logoSource, icon, icon2x, strip, strip2x, strip3x });\n      } catch {}\n\n      // 5) Download the pkpass\n      const blob = await res.blob();\n      const url = window.URL.createObjectURL(blob);\n      const a = document.createElement('a');\n      a.href = url;\n      a.download = `${(payload.campaignName || 'loyalty_pass').toString().replace(/\\s+/g, '_')}.pkpass`;\n      document.body.appendChild(a);\n      a.click();\n      a.remove();\n      window.URL.revokeObjectURL(url);\n    } catch (e: any) {\n      console.error('Generate pass failed', e);\n      alert(e?.message || 'Failed to generate pass');\n    } finally {\n      setIsGenerating(false);\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      {/* Header */}\n      <div className=\"bg-white shadow-sm border-b border-gray-200\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n          <div className=\"flex justify-between items-center h-16\">\n            <div className=\"flex items-center space-x-3\">\n              <div className=\"w-8 h-8 bg-blue-600 rounded-lg flex items-center justify-center\">\n                <span className=\"text-white font-bold text-sm\">ðŸ“±</span>\n              </div>\n              <div>\n                <h1 className=\"text-xl font-semibold text-gray-900\">\n                  Apple Wallet Pass Designer\n                </h1>\n                <p className=\"text-sm text-gray-500\">Create custom loyalty passes</p>\n              </div>\n            </div>\n            <div className=\"flex items-center space-x-4\">\n              {/* History Controls */}\n              <div className=\"flex items-center space-x-1 bg-gray-100 rounded-lg p-1\">\n                <button\n                  onClick={handleUndo}\n                  disabled={historyIndex <= 0}\n                  className=\"p-2 rounded-md hover:bg-white disabled:opacity-50 disabled:cursor-not-allowed transition-all\"\n                  title=\"Undo (Cmd+Z)\"\n                >\n                  <Undo2 className=\"w-4 h-4\" />\n                </button>\n                <button\n                  onClick={handleRedo}\n                  disabled={historyIndex >= designHistory.length - 1}\n                  className=\"p-2 rounded-md hover:bg-white disabled:opacity-50 disabled:cursor-not-allowed transition-all\"\n                  title=\"Redo (Cmd+Shift+Z)\"\n                >\n                  <Redo2 className=\"w-4 h-4\" />\n                </button>\n                <div className=\"w-px h-6 bg-gray-300 mx-1\"></div>\n                <button\n                  onClick={handleReset}\n                  className=\"p-2 rounded-md hover:bg-white text-red-600 hover:text-red-700 transition-all\"\n                  title=\"Reset to Default\"\n                >\n                  <RotateCcw className=\"w-4 h-4\" />\n                </button>\n              </div>\n\n              <div className=\"w-px h-6 bg-gray-300\"></div>\n\n              <button\n                onClick={() => setShowEditor(!showEditor)}\n                className={`px-4 py-2 rounded-lg font-medium transition-all duration-200 ${\n                  showEditor \n                    ? 'bg-gray-100 text-gray-700 hover:bg-gray-200' \n                    : 'bg-blue-600 text-white hover:bg-blue-700 shadow-sm'\n                }`}\n              >\n                {showEditor ? 'Hide Editor' : 'Show Editor'}\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Main Content */}\n      <div className=\"flex h-[calc(100vh-64px)]\">\n        {/* Design Editor Sidebar */}\n        {showEditor && (\n          <div className=\"w-96 bg-white border-r border-gray-200 shadow-sm\">\n            <DesignEditor \n              design={passDesign} \n              onDesignChange={handleDesignChange}\n            />\n          </div>\n        )}\n\n        {/* Pass Preview */}\n        <div className=\"flex-1 flex flex-col items-center justify-center p-8 bg-gradient-to-br from-gray-50 to-gray-100\">\n          <div className=\"text-center mb-8\">\n            <h2 className=\"text-2xl font-bold text-gray-900 mb-2\">Live Preview</h2>\n            <p className=\"text-gray-600\">Your Apple Wallet pass updates in real-time</p>\n          </div>\n          \n          {/* Card Type Selector */}\n          <div className=\"mb-8\">\n            <div className=\"bg-white rounded-xl shadow-sm border border-gray-200 p-1\">\n              <div className=\"flex space-x-1\">\n                <button\n                  onClick={() => handleCardTypeChange('redemption')}\n                  className={`flex items-center space-x-2 px-4 py-3 rounded-lg font-medium transition-all duration-200 ${\n                    passDesign.cardType === 'redemption'\n                      ? 'bg-blue-600 text-white shadow-sm'\n                      : 'text-gray-600 hover:bg-gray-100 hover:text-gray-900'\n                  }`}\n                >\n                  <CreditCard className=\"w-4 h-4\" />\n                  <span>Redemption Card</span>\n                </button>\n                <button\n                  onClick={() => handleCardTypeChange('points')}\n                  className={`flex items-center space-x-2 px-4 py-3 rounded-lg font-medium transition-all duration-200 ${\n                    passDesign.cardType === 'points'\n                      ? 'bg-blue-600 text-white shadow-sm'\n                      : 'text-gray-600 hover:bg-gray-100 hover:text-gray-900'\n                  }`}\n                >\n                  <Star className=\"w-4 h-4\" />\n                  <span>Points Card</span>\n                </button>\n                <button\n                  onClick={() => handleCardTypeChange('milestone')}\n                  className={`flex items-center space-x-2 px-4 py-3 rounded-lg font-medium transition-all duration-200 ${\n                    passDesign.cardType === 'milestone'\n                      ? 'bg-blue-600 text-white shadow-sm'\n                      : 'text-gray-600 hover:bg-gray-100 hover:text-gray-900'\n                  }`}\n                >\n                  <Target className=\"w-4 h-4\" />\n                  <span>Milestone Card</span>\n                </button>\n              </div>\n            </div>\n            <p className=\"text-sm text-gray-500 mt-2 text-center\">\n              Switch between card types to access different editor controls\n            </p>\n            <div className=\"mt-2 text-center\">\n              <div className=\"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800\">\n                <div className=\"w-2 h-2 bg-blue-500 rounded-full mr-2 animate-pulse\"></div>\n                {passDesign.cardType === 'redemption' ? 'Redemption Card' : passDesign.cardType === 'points' ? 'Points Card' : 'Milestone Card'}\n              </div>\n            </div>\n          </div>\n          <div className=\"transform hover:scale-105 transition-transform duration-300\">\n            <PassPreview design={passDesign} />\n          </div>\n          <div className=\"mt-8 text-center\">\n          <div className=\"flex items-center justify-center gap-3\">\n            <div className=\"inline-flex items-center space-x-2 px-4 py-2 bg-white rounded-lg shadow-sm border border-gray-200\">\n              <div className=\"w-2 h-2 bg-green-500 rounded-full animate-pulse\"></div>\n              <span className=\"text-sm text-gray-600\">Live Preview Active</span>\n            </div>\n            {designHistory.length > 1 && (\n              <div className=\"inline-flex items-center space-x-2 px-3 py-2 bg-white rounded-lg shadow-sm border border-gray-200\">\n                <span className=\"text-xs text-gray-500\">History:</span>\n                <span className=\"text-xs font-medium text-gray-700\">\n                  {historyIndex + 1} / {designHistory.length}\n                </span>\n              </div>\n            )}\n            <button\n              onClick={handleGeneratePass}\n              disabled={isGenerating}\n              className={`px-4 py-2 rounded-lg font-medium transition-all duration-200 ${\n                isGenerating\n                  ? 'bg-gray-200 text-gray-500 cursor-not-allowed'\n                  : 'bg-blue-600 text-white hover:bg-blue-700 shadow-sm'\n              }`}\n            >\n              {isGenerating ? 'Generatingâ€¦' : 'Generate Pass'}\n            </button>\n          </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default App;"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,WAAW,QAAQ,OAAO;AACpD,OAAOC,WAAW,MAAM,0BAA0B;AAClD,OAAOC,YAAY,MAAM,2BAA2B;AAEpD,OAAO,WAAW;AAClB,SAASC,oBAAoB,QAAQ,2BAA2B;AAChE,SAASC,SAAS,EAAEC,KAAK,EAAEC,KAAK,EAAEC,UAAU,EAAEC,IAAI,EAAEC,MAAM,QAAQ,cAAc;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEjF,SAASC,GAAGA,CAAA,EAAG;EAAAC,EAAA;EACb,MAAMC,UAAU,GAAG,CAAC,MAAM;IACxB,MAAMC,CAAC,GAAG,IAAIC,IAAI,CAAC,CAAC;IACpBD,CAAC,CAACE,WAAW,CAACF,CAAC,CAACG,WAAW,CAAC,CAAC,GAAG,CAAC,CAAC;IAClC,OAAOH,CAAC,CAACI,WAAW,CAAC,CAAC,CAACC,KAAK,CAAC,CAAC,EAAE,EAAE,CAAC;EACrC,CAAC,EAAE,CAAC;EAEJ,MAAMC,gBAAgB,GAAGA,CAACC,QAAkB,GAAG,YAAY,MAAkB;IAC3EA,QAAQ;IACRC,eAAe,EAAE,SAAS;IAC1BC,eAAe,EAAE,SAAS;IAC1BC,UAAU,EAAE,SAAS;IACrBC,oBAAoB,EAAE,SAAS;IAC/BC,QAAQ,EAAE,EAAE;IACZC,SAAS,EAAE,IAAI;IACfC,UAAU,EAAE,QAAQ;IACpBC,YAAY,EAAE,KAAK;IACnBC,eAAe,EAAET,QAAQ,KAAK,YAAY,GAAG,CAC3C;MAAEU,KAAK,EAAE,aAAa;MAAEC,KAAK,EAAE;IAAW,CAAC,EAC3C;MAAED,KAAK,EAAE,UAAU;MAAEC,KAAK,EAAE;IAAc,CAAC,CAC5C,GAAGX,QAAQ,KAAK,QAAQ,GAAG,CAC1B;MAAEU,KAAK,EAAE,aAAa;MAAEC,KAAK,EAAE;IAAW,CAAC,EAC3C;MAAED,KAAK,EAAE,aAAa;MAAEC,KAAK,EAAE;IAAkB,CAAC,CACnD,GAAGX,QAAQ,KAAK,WAAW,GAAG,CAC7B;MAAEU,KAAK,EAAE,aAAa;MAAEC,KAAK,EAAE;IAAW,CAAC,EAC3C;MAAED,KAAK,EAAE,aAAa;MAAEC,KAAK,EAAE;IAA0B,CAAC,CAAC;IAAA,CAC5D,GAAG,CACF;MAAED,KAAK,EAAE,aAAa;MAAEC,KAAK,EAAE;IAAW,CAAC,EAC3C;MAAED,KAAK,EAAE,UAAU;MAAEC,KAAK,EAAE;IAAc,CAAC,CAC5C;IACDC,cAAc,EAAE;MACdF,KAAK,EAAE,aAAa;MACpBC,KAAK,EAAEX,QAAQ,KAAK,QAAQ,GAAG,6BAA6B,GAAGA,QAAQ,KAAK,WAAW,GAAG,EAAE,GAAG;IACjG,CAAC;IACD;IACAa,YAAY,EAAE,CAAC;IACfC,WAAW,EAAE,EAAE;IACf;IACAC,kBAAkB,EAAE,CAAC;IACrBC,kBAAkB,EAAE,CAAC,CAAC,EAAE,EAAE,CAAC;IAC3B;IACAC,aAAa,EAAE,IAAI;IACnBC,YAAY,EAAE,IAAI;IAClBC,cAAc,EAAE,IAAI;IACpBC,oBAAoB,EAAE,EAAE;IACxBC,gBAAgB,EAAE,IAAI;IACtB;IACAC,eAAe,EAAE,CACf;MAAEC,KAAK,EAAE,CAAC;MAAEC,IAAI,EAAE,QAAQ;MAAEL,cAAc,EAAE,GAAG;MAAEM,MAAM,EAAE;IAAU,CAAC,EACpE;MAAEF,KAAK,EAAE,CAAC;MAAEC,IAAI,EAAE,QAAQ;MAAEL,cAAc,EAAE,IAAI;MAAEM,MAAM,EAAE;IAAU,CAAC,EACrE;MAAEF,KAAK,EAAE,CAAC;MAAEC,IAAI,EAAE,MAAM;MAAEL,cAAc,EAAE,IAAI;MAAEM,MAAM,EAAE;IAAU,CAAC,EACnE;MAAEF,KAAK,EAAE,CAAC;MAAEC,IAAI,EAAE,UAAU;MAAEL,cAAc,EAAE,IAAI;MAAEM,MAAM,EAAE;IAAc,CAAC,CAC5E;IACDC,gBAAgB,EAAE,CAAC;IACnBC,mBAAmB,EAAE,IAAI;IACzBC,QAAQ,EAAE,EAAE;IACZC,SAAS,EAAE,GAAG;IACdC,UAAU,EAAE,GAAG;IACfC,WAAW,EAAE,GAAG;IAChBC,YAAY,EAAE,EAAE;IAChBC,eAAe,EAAE,GAAG;IACpBC,eAAe,EAAE,EAAE;IACnBC,aAAa,EAAE,GAAG;IAClBC,SAAS,EAAE,sBAAsB;IACjCC,cAAc,EAAE7C,UAAU;IAC1B8C,aAAa,EAAE,KAAK;IACpBC,oBAAoB,EAAE,IAAI;IAC1BC,sBAAsB,EAAE,GAAG;IAC3B;IACAC,mBAAmB,EAAE,IAAI;IACzBC,iBAAiB,EAAE,IAAI;IACvBC,kBAAkB,EAAE,IAAI;IACxBC,gBAAgB,EAAE,IAAI;IACtBC,mBAAmB,EAAE;EACvB,CAAC,CAAC;EAEF,MAAM,CAACC,UAAU,EAAEC,aAAa,CAAC,GAAGtE,QAAQ,CAAasB,gBAAgB,CAAC,CAAC,CAAC;EAC5E,MAAM,CAACiD,aAAa,EAAEC,gBAAgB,CAAC,GAAGxE,QAAQ,CAAe,CAACsB,gBAAgB,CAAC,CAAC,CAAC,CAAC;EACtF,MAAM,CAACmD,YAAY,EAAEC,eAAe,CAAC,GAAG1E,QAAQ,CAAC,CAAC,CAAC;EACnD,MAAM,CAAC2E,UAAU,EAAEC,aAAa,CAAC,GAAG5E,QAAQ,CAAC,IAAI,CAAC;EAClD,MAAM,CAAC6E,YAAY,EAAEC,eAAe,CAAC,GAAG9E,QAAQ,CAAC,KAAK,CAAC;;EAEvD;EACA,MAAM+E,YAAY,GAAIC,SAAqB,IAAK;IAC9C;IACA,MAAMC,UAAU,GAAGV,aAAa,CAAClD,KAAK,CAAC,CAAC,EAAEoD,YAAY,GAAG,CAAC,CAAC;IAC3DQ,UAAU,CAACC,IAAI,CAACF,SAAS,CAAC;;IAE1B;IACA,IAAIC,UAAU,CAACE,MAAM,GAAG,EAAE,EAAE;MAC1BF,UAAU,CAACG,KAAK,CAAC,CAAC;IACpB,CAAC,MAAM;MACLV,eAAe,CAACD,YAAY,GAAG,CAAC,CAAC;IACnC;IAEAD,gBAAgB,CAACS,UAAU,CAAC;IAC5BX,aAAa,CAACU,SAAS,CAAC;EAC1B,CAAC;EAED,MAAMK,UAAU,GAAGpF,WAAW,CAAC,MAAM;IACnC,IAAIwE,YAAY,GAAG,CAAC,EAAE;MACpB,MAAMa,QAAQ,GAAGb,YAAY,GAAG,CAAC;MACjCC,eAAe,CAACY,QAAQ,CAAC;MACzBhB,aAAa,CAACC,aAAa,CAACe,QAAQ,CAAC,CAAC;IACxC;EACF,CAAC,EAAE,CAACb,YAAY,EAAEF,aAAa,CAAC,CAAC;EAEjC,MAAMgB,UAAU,GAAGtF,WAAW,CAAC,MAAM;IACnC,IAAIwE,YAAY,GAAGF,aAAa,CAACY,MAAM,GAAG,CAAC,EAAE;MAC3C,MAAMG,QAAQ,GAAGb,YAAY,GAAG,CAAC;MACjCC,eAAe,CAACY,QAAQ,CAAC;MACzBhB,aAAa,CAACC,aAAa,CAACe,QAAQ,CAAC,CAAC;IACxC;EACF,CAAC,EAAE,CAACb,YAAY,EAAEF,aAAa,CAAC,CAAC;EAEjC,MAAMiB,WAAW,GAAGA,CAAA,KAAM;IACxB,IAAIC,MAAM,CAACC,OAAO,CAAC,mGAAmG,CAAC,EAAE;MACvH,MAAMC,aAAa,GAAGrE,gBAAgB,CAAC,CAAC;MACxCgD,aAAa,CAACqB,aAAa,CAAC;MAC5BnB,gBAAgB,CAAC,CAACmB,aAAa,CAAC,CAAC;MACjCjB,eAAe,CAAC,CAAC,CAAC;IACpB;EACF,CAAC;EAED,MAAMkB,kBAAkB,GAAIZ,SAAqB,IAAK;IACpDD,YAAY,CAACC,SAAS,CAAC;EACzB,CAAC;EAED,MAAMa,oBAAoB,GAAIC,WAAqB,IAAK;IACtD,IAAIA,WAAW,KAAKzB,UAAU,CAAC9C,QAAQ,EAAE;;IAEzC;IACA,MAAMyD,SAAS,GAAG1D,gBAAgB,CAACwE,WAAW,CAAC;;IAE/C;IACAd,SAAS,CAACxD,eAAe,GAAG6C,UAAU,CAAC7C,eAAe;IACtDwD,SAAS,CAACvD,eAAe,GAAG4C,UAAU,CAAC5C,eAAe;IACtDuD,SAAS,CAACtD,UAAU,GAAG2C,UAAU,CAAC3C,UAAU;IAC5CsD,SAAS,CAACrD,oBAAoB,GAAG0C,UAAU,CAAC1C,oBAAoB;IAChEqD,SAAS,CAAClB,oBAAoB,GAAGO,UAAU,CAACP,oBAAoB;IAChEkB,SAAS,CAACjB,sBAAsB,GAAGM,UAAU,CAACN,sBAAsB;IACpEiB,SAAS,CAACpD,QAAQ,GAAGyC,UAAU,CAACzC,QAAQ;IACxCoD,SAAS,CAACnD,SAAS,GAAGwC,UAAU,CAACxC,SAAS;IAC1CmD,SAAS,CAAClD,UAAU,GAAGuC,UAAU,CAACvC,UAAU;IAC5CkD,SAAS,CAACjD,YAAY,GAAGsC,UAAU,CAACtC,YAAY;IAChDiD,SAAS,CAACrB,SAAS,GAAGU,UAAU,CAACV,SAAS;IAC1CqB,SAAS,CAACpB,cAAc,GAAGS,UAAU,CAACT,cAAc;IACpDoB,SAAS,CAACnB,aAAa,GAAGQ,UAAU,CAACR,aAAa;IAElDkB,YAAY,CAACC,SAAS,CAAC;EACzB,CAAC;;EAED;EACAjF,KAAK,CAACgG,SAAS,CAAC,MAAM;IACpB,MAAMC,aAAa,GAAIC,CAAgB,IAAK;MAC1C,IAAIA,CAAC,CAACC,OAAO,IAAID,CAAC,CAACE,OAAO,EAAE;QAC1B,IAAIF,CAAC,CAACG,GAAG,KAAK,GAAG,IAAI,CAACH,CAAC,CAACI,QAAQ,EAAE;UAChCJ,CAAC,CAACK,cAAc,CAAC,CAAC;UAClBjB,UAAU,CAAC,CAAC;QACd,CAAC,MAAM,IAAKY,CAAC,CAACG,GAAG,KAAK,GAAG,IAAIH,CAAC,CAACI,QAAQ,IAAKJ,CAAC,CAACG,GAAG,KAAK,GAAG,EAAE;UACzDH,CAAC,CAACK,cAAc,CAAC,CAAC;UAClBf,UAAU,CAAC,CAAC;QACd;MACF;IACF,CAAC;IAEDE,MAAM,CAACc,gBAAgB,CAAC,SAAS,EAAEP,aAAa,CAAC;IACjD,OAAO,MAAMP,MAAM,CAACe,mBAAmB,CAAC,SAAS,EAAER,aAAa,CAAC;EACnE,CAAC,EAAE,CAACvB,YAAY,EAAEF,aAAa,EAAEc,UAAU,EAAEE,UAAU,CAAC,CAAC;EAEzD,MAAMkB,kBAAkB,GAAG,MAAAA,CAAA,KAAY;IACrC,IAAI;MACF3B,eAAe,CAAC,IAAI,CAAC;MACrB;MACA,MAAM4B,OAAO,GAAGC,QAAQ,CAACC,aAAa,CAAC,wBAAwB,CAAuB;MACtF,IAAI,CAACF,OAAO,EAAE;QACZG,KAAK,CAAC,mDAAmD,CAAC;QAC1D;MACF;MACA,MAAMC,QAAQ,GAAG,IAAI1G,oBAAoB,CAAC,CAAC;MAC3C,MAAM2G,eAAe,GAAG,MAAMD,QAAQ,CAACE,mBAAmB,CAACN,OAAO,CAAC;;MAEnE;MACA,MAAMO,OAAO,GAAG;QACdC,UAAU,EAAE,sCAAsC;QAClDC,YAAY,EAAE9C,UAAU,CAACzC,QAAQ,IAAI,EAAE;QACvCwF,UAAU,EAAE,eAAe;QAC3BC,aAAa,EAAE,cAAc;QAC7BC,YAAY,EAAEjD,UAAU,CAACrC,eAAe,IAAIqC,UAAU,CAACrC,eAAe,CAACmD,MAAM,GAAG,CAAC,GAAId,UAAU,CAACrC,eAAe,CAAC,CAAC,CAAC,CAACE,KAAK,IAAI,eAAe,GAAI,eAAe;QAC9JE,YAAY,EAAEiC,UAAU,CAACjC,YAAY;QACrCmF,cAAc,EAAElD,UAAU,CAAChC,WAAW;QACtCuB,cAAc,EAAES,UAAU,CAACT,cAAc;QACzCC,aAAa,EAAEQ,UAAU,CAACR,aAAa;QACvC2D,MAAM,EAAE;UACNC,UAAU,EAAEpD,UAAU,CAAC5C,eAAe;UACtCiG,UAAU,EAAErD,UAAU,CAAC7C,eAAe;UACtCS,KAAK,EAAEoC,UAAU,CAAC3C,UAAU;UAC5BiG,eAAe,EAAEtD,UAAU,CAAC1C;QAC9B,CAAC;QACDiG,MAAM,EAAE;UACNC,UAAU,EAAEd,eAAe;UAC3Be,IAAI,EAAEzD,UAAU,CAACxC,SAAS,IAAIkG,SAAS;UACvClG,SAAS,EAAEwC,UAAU,CAACxC,SAAS,IAAIkG,SAAS;UAC5CJ,eAAe,EAAEtD,UAAU,CAACP,oBAAoB,IAAIiE,SAAS;UAC7DhE,sBAAsB,EAAEM,UAAU,CAACN,sBAAsB,IAAI;QAC/D,CAAC;QACDJ,SAAS,EAAEU,UAAU,CAACV,SAAS,IAAI,sBAAsB;QACzD;QACAqE,UAAU,EAAE3D,UAAU,CAAC9C,QAAQ,KAAK,WAAW,GAAG;UAChDe,kBAAkB,EAAE+B,UAAU,CAAC/B,kBAAkB,IAAI,CAAC;UACtDC,kBAAkB,EAAE8B,UAAU,CAAC9B,kBAAkB,IAAI,CAAC,CAAC,EAAE,EAAE,CAAC;UAC5D6B,mBAAmB,EAAE;QACvB,CAAC,GAAG2D,SAAS;QACbE,WAAW,EAAE;UACXC,MAAM,EAAE;YACNC,MAAM,EAAE,CACN9D,UAAU,CAAC9C,QAAQ,KAAK,YAAY,GAAG;cACrC6E,GAAG,EAAE,YAAY;cACjBnE,KAAK,EAAE,QAAQ;cACfC,KAAK,EAAEmC,UAAU,CAACR,aAAa,IAAIQ,UAAU,CAACT,cAAc,GAC1D,IAAI3C,IAAI,CAACoD,UAAU,CAACT,cAAc,CAAC,CAACwE,kBAAkB,CAAC,OAAO,EAAE;gBAC9DC,GAAG,EAAE,SAAS;gBACdC,KAAK,EAAE,SAAS;gBAChBC,IAAI,EAAE;cACR,CAAC,CAAC,CAACC,OAAO,CAAC,KAAK,EAAE,GAAG,CAAC,GACpB,WAAW;cACfC,aAAa,EAAE;YACjB,CAAC,GAAGpE,UAAU,CAAC9C,QAAQ,KAAK,QAAQ,GAAG;cACrC6E,GAAG,EAAE,aAAa;cAClBnE,KAAK,EAAE,QAAQ;cACfC,KAAK,EAAE,CAACmC,UAAU,CAAC7B,aAAa,IAAI,CAAC,EAAEkG,cAAc,CAAC,CAAC;cACvDD,aAAa,EAAE;YACjB,CAAC,GAAGpE,UAAU,CAAC9C,QAAQ,KAAK,WAAW,GAAG;cACxC6E,GAAG,EAAE,YAAY;cACjBnE,KAAK,EAAE,aAAa;cACpBC,KAAK,EAAE,CAAC,MAAM;gBACZ;gBACA,MAAMK,kBAAkB,GAAG8B,UAAU,CAAC9B,kBAAkB,IAAI,EAAE;gBAC9D,MAAMoG,aAAa,GAAGpG,kBAAkB,CAACqG,IAAI,CAACC,GAAG,IAAIA,GAAG,GAAGxE,UAAU,CAACjC,YAAY,CAAC;gBAEnF,IAAIuG,aAAa,EAAE;kBACjB,MAAMG,YAAY,GAAGH,aAAa,GAAGtE,UAAU,CAACjC,YAAY;kBAC5D,OAAO,GAAG0G,YAAY,SAASA,YAAY,KAAK,CAAC,GAAG,GAAG,GAAG,EAAE,OAAO;gBACrE,CAAC,MAAM;kBACL;kBACA,OAAO,gBAAgB;gBACzB;cACF,CAAC,EAAE,CAAC;cACJL,aAAa,EAAE;YACjB,CAAC,GAAG;cACFrC,GAAG,EAAE,aAAa;cAClBnE,KAAK,EAAE,QAAQ;cACfC,KAAK,EAAE,MAAM;cACbuG,aAAa,EAAE;YACjB,CAAC,CACF;YACDM,OAAO,EAAE,EAAE;YACXC,SAAS,EAAE3E,UAAU,CAAC9C,QAAQ,KAAK,YAAY,GAAG,CAChD;cACE6E,GAAG,EAAE,YAAY;cACjBnE,KAAK,EAAE,aAAa;cACpBC,KAAK,EAAEmC,UAAU,CAACrC,eAAe,IAAIqC,UAAU,CAACrC,eAAe,CAACmD,MAAM,GAAG,CAAC,GAAGd,UAAU,CAACrC,eAAe,CAAC,CAAC,CAAC,CAACE,KAAK,GAAG,UAAU;cAC7HuG,aAAa,EAAE;YACjB,CAAC,EACD;cACErC,GAAG,EAAE,UAAU;cACfnE,KAAK,EAAE,UAAU;cACjBC,KAAK,EAAE,GAAGmC,UAAU,CAACjC,YAAY,WAAWiC,UAAU,CAAChC,WAAW,EAAE;cACpEoG,aAAa,EAAE;YACjB,CAAC,CACF,GAAGpE,UAAU,CAAC9C,QAAQ,KAAK,QAAQ,GAAG,CACrC;cACE6E,GAAG,EAAE,YAAY;cACjBnE,KAAK,EAAE,aAAa;cACpBC,KAAK,EAAEmC,UAAU,CAACrC,eAAe,IAAIqC,UAAU,CAACrC,eAAe,CAACmD,MAAM,GAAG,CAAC,GAAGd,UAAU,CAACrC,eAAe,CAAC,CAAC,CAAC,CAACE,KAAK,GAAG,UAAU;cAC7HuG,aAAa,EAAE;YACjB,CAAC,EACD;cACErC,GAAG,EAAE,YAAY;cACjBnE,KAAK,EAAE,aAAa;cACpBC,KAAK,EAAE,iBAAiB;cACxBuG,aAAa,EAAE;YACjB,CAAC,CACF,GAAGpE,UAAU,CAAC9C,QAAQ,KAAK,WAAW,GAAG,CACxC;cACE6E,GAAG,EAAE,YAAY;cACjBnE,KAAK,EAAE,aAAa;cACpBC,KAAK,EAAEmC,UAAU,CAACrC,eAAe,IAAIqC,UAAU,CAACrC,eAAe,CAACmD,MAAM,GAAG,CAAC,GAAGd,UAAU,CAACrC,eAAe,CAAC,CAAC,CAAC,CAACE,KAAK,GAAG,UAAU;cAC7HuG,aAAa,EAAE;YACjB,CAAC,EACD;cACErC,GAAG,EAAE,YAAY;cACjBnE,KAAK,EAAE,aAAa;cACpBC,KAAK,EAAE,CAAC,MAAM;gBACZ;gBACA,MAAMK,kBAAkB,GAAG8B,UAAU,CAAC9B,kBAAkB,IAAI,EAAE;gBAC9D,MAAMoG,aAAa,GAAGpG,kBAAkB,CAACqG,IAAI,CAACC,GAAG,IAAIA,GAAG,GAAGxE,UAAU,CAACjC,YAAY,CAAC;gBAEnF,IAAIuG,aAAa,EAAE;kBACjB,OAAO,kBAAkBA,aAAa,SAAS;gBACjD,CAAC,MAAM;kBACL,OAAO,qBAAqB;gBAC9B;cACF,CAAC,EAAE,CAAC;cACJF,aAAa,EAAE;YACjB,CAAC,CACF,GAAG,EAAE;YACNQ,SAAS,EAAE;UACb;QACF;MACF,CAAC;;MAED;MACA,MAAMC,GAAG,GAAG,MAAMC,KAAK,CAAC,8BAA8B,EAAE;QACtDC,MAAM,EAAE,MAAM;QACdC,OAAO,EAAE;UAAE,cAAc,EAAE;QAAmB,CAAC;QAC/CC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACvC,OAAO;MAC9B,CAAC,CAAC;MAEF,IAAI,CAACiC,GAAG,CAACO,EAAE,EAAE;QACX,MAAMC,GAAG,GAAG,MAAMR,GAAG,CAACS,IAAI,CAAC,CAAC,CAACC,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;QAC9C,MAAM,IAAIC,KAAK,CAACH,GAAG,CAACI,OAAO,IAAI,yBAAyB,CAAC;MAC3D;;MAEA;MACA,IAAI;QACF,MAAMhC,IAAI,GAAGoB,GAAG,CAACG,OAAO,CAACU,GAAG,CAAC,aAAa,CAAC;QAC3C,MAAMC,MAAM,GAAGd,GAAG,CAACG,OAAO,CAACU,GAAG,CAAC,eAAe,CAAC;QAC/C,MAAME,MAAM,GAAGf,GAAG,CAACG,OAAO,CAACU,GAAG,CAAC,eAAe,CAAC;QAC/C,MAAMG,UAAU,GAAGhB,GAAG,CAACG,OAAO,CAACU,GAAG,CAAC,oBAAoB,CAAC;QACxD,MAAMI,IAAI,GAAGjB,GAAG,CAACG,OAAO,CAACU,GAAG,CAAC,aAAa,CAAC;QAC3C,MAAMK,MAAM,GAAGlB,GAAG,CAACG,OAAO,CAACU,GAAG,CAAC,eAAe,CAAC;QAC/C,MAAMM,KAAK,GAAGnB,GAAG,CAACG,OAAO,CAACU,GAAG,CAAC,cAAc,CAAC;QAC7C,MAAMO,OAAO,GAAGpB,GAAG,CAACG,OAAO,CAACU,GAAG,CAAC,gBAAgB,CAAC;QACjD,MAAMQ,OAAO,GAAGrB,GAAG,CAACG,OAAO,CAACU,GAAG,CAAC,gBAAgB,CAAC;QACjDS,OAAO,CAACC,GAAG,CAAC,qBAAqB,EAAE;UAAE3C,IAAI;UAAEkC,MAAM;UAAEC,MAAM;UAAEC,UAAU;UAAEC,IAAI;UAAEC,MAAM;UAAEC,KAAK;UAAEC,OAAO;UAAEC;QAAQ,CAAC,CAAC;MACjH,CAAC,CAAC,MAAM,CAAC;;MAET;MACA,MAAMG,IAAI,GAAG,MAAMxB,GAAG,CAACwB,IAAI,CAAC,CAAC;MAC7B,MAAMC,GAAG,GAAGlF,MAAM,CAACmF,GAAG,CAACC,eAAe,CAACH,IAAI,CAAC;MAC5C,MAAMI,CAAC,GAAGnE,QAAQ,CAACoE,aAAa,CAAC,GAAG,CAAC;MACrCD,CAAC,CAACE,IAAI,GAAGL,GAAG;MACZG,CAAC,CAACG,QAAQ,GAAG,GAAG,CAAChE,OAAO,CAACE,YAAY,IAAI,cAAc,EAAE+D,QAAQ,CAAC,CAAC,CAAC1C,OAAO,CAAC,MAAM,EAAE,GAAG,CAAC,SAAS;MACjG7B,QAAQ,CAAC2C,IAAI,CAAC6B,WAAW,CAACL,CAAC,CAAC;MAC5BA,CAAC,CAACM,KAAK,CAAC,CAAC;MACTN,CAAC,CAACO,MAAM,CAAC,CAAC;MACV5F,MAAM,CAACmF,GAAG,CAACU,eAAe,CAACX,GAAG,CAAC;IACjC,CAAC,CAAC,OAAO1E,CAAM,EAAE;MACfuE,OAAO,CAACe,KAAK,CAAC,sBAAsB,EAAEtF,CAAC,CAAC;MACxCY,KAAK,CAAC,CAAAZ,CAAC,aAADA,CAAC,uBAADA,CAAC,CAAE6D,OAAO,KAAI,yBAAyB,CAAC;IAChD,CAAC,SAAS;MACRhF,eAAe,CAAC,KAAK,CAAC;IACxB;EACF,CAAC;EAED,oBACElE,OAAA;IAAK4K,SAAS,EAAC,yBAAyB;IAAAC,QAAA,gBAEtC7K,OAAA;MAAK4K,SAAS,EAAC,6CAA6C;MAAAC,QAAA,eAC1D7K,OAAA;QAAK4K,SAAS,EAAC,wCAAwC;QAAAC,QAAA,eACrD7K,OAAA;UAAK4K,SAAS,EAAC,wCAAwC;UAAAC,QAAA,gBACrD7K,OAAA;YAAK4K,SAAS,EAAC,6BAA6B;YAAAC,QAAA,gBAC1C7K,OAAA;cAAK4K,SAAS,EAAC,iEAAiE;cAAAC,QAAA,eAC9E7K,OAAA;gBAAM4K,SAAS,EAAC,8BAA8B;gBAAAC,QAAA,EAAC;cAAE;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAM;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACrD,CAAC,eACNjL,OAAA;cAAA6K,QAAA,gBACE7K,OAAA;gBAAI4K,SAAS,EAAC,qCAAqC;gBAAAC,QAAA,EAAC;cAEpD;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,eACLjL,OAAA;gBAAG4K,SAAS,EAAC,uBAAuB;gBAAAC,QAAA,EAAC;cAA4B;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAG,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAClE,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH,CAAC,eACNjL,OAAA;YAAK4K,SAAS,EAAC,6BAA6B;YAAAC,QAAA,gBAE1C7K,OAAA;cAAK4K,SAAS,EAAC,wDAAwD;cAAAC,QAAA,gBACrE7K,OAAA;gBACEkL,OAAO,EAAEzG,UAAW;gBACpB0G,QAAQ,EAAEtH,YAAY,IAAI,CAAE;gBAC5B+G,SAAS,EAAC,8FAA8F;gBACxGQ,KAAK,EAAC,cAAc;gBAAAP,QAAA,eAEpB7K,OAAA,CAACN,KAAK;kBAACkL,SAAS,EAAC;gBAAS;kBAAAE,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAE;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACvB,CAAC,eACTjL,OAAA;gBACEkL,OAAO,EAAEvG,UAAW;gBACpBwG,QAAQ,EAAEtH,YAAY,IAAIF,aAAa,CAACY,MAAM,GAAG,CAAE;gBACnDqG,SAAS,EAAC,8FAA8F;gBACxGQ,KAAK,EAAC,oBAAoB;gBAAAP,QAAA,eAE1B7K,OAAA,CAACL,KAAK;kBAACiL,SAAS,EAAC;gBAAS;kBAAAE,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAE;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACvB,CAAC,eACTjL,OAAA;gBAAK4K,SAAS,EAAC;cAA2B;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAM,CAAC,eACjDjL,OAAA;gBACEkL,OAAO,EAAEtG,WAAY;gBACrBgG,SAAS,EAAC,8EAA8E;gBACxFQ,KAAK,EAAC,kBAAkB;gBAAAP,QAAA,eAExB7K,OAAA,CAACP,SAAS;kBAACmL,SAAS,EAAC;gBAAS;kBAAAE,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAE;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAC3B,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACN,CAAC,eAENjL,OAAA;cAAK4K,SAAS,EAAC;YAAsB;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAM,CAAC,eAE5CjL,OAAA;cACEkL,OAAO,EAAEA,CAAA,KAAMlH,aAAa,CAAC,CAACD,UAAU,CAAE;cAC1C6G,SAAS,EAAE,gEACT7G,UAAU,GACN,6CAA6C,GAC7C,oDAAoD,EACvD;cAAA8G,QAAA,EAEF9G,UAAU,GAAG,aAAa,GAAG;YAAa;cAAA+G,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACrC,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACN,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC,eAGNjL,OAAA;MAAK4K,SAAS,EAAC,2BAA2B;MAAAC,QAAA,GAEvC9G,UAAU,iBACT/D,OAAA;QAAK4K,SAAS,EAAC,kDAAkD;QAAAC,QAAA,eAC/D7K,OAAA,CAACT,YAAY;UACX8L,MAAM,EAAE5H,UAAW;UACnB6H,cAAc,EAAEtG;QAAmB;UAAA8F,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACpC;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACC,CACN,eAGDjL,OAAA;QAAK4K,SAAS,EAAC,iGAAiG;QAAAC,QAAA,gBAC9G7K,OAAA;UAAK4K,SAAS,EAAC,kBAAkB;UAAAC,QAAA,gBAC/B7K,OAAA;YAAI4K,SAAS,EAAC,uCAAuC;YAAAC,QAAA,EAAC;UAAY;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eACvEjL,OAAA;YAAG4K,SAAS,EAAC,eAAe;YAAAC,QAAA,EAAC;UAA2C;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAG,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACzE,CAAC,eAGNjL,OAAA;UAAK4K,SAAS,EAAC,MAAM;UAAAC,QAAA,gBACnB7K,OAAA;YAAK4K,SAAS,EAAC,0DAA0D;YAAAC,QAAA,eACvE7K,OAAA;cAAK4K,SAAS,EAAC,gBAAgB;cAAAC,QAAA,gBAC7B7K,OAAA;gBACEkL,OAAO,EAAEA,CAAA,KAAMjG,oBAAoB,CAAC,YAAY,CAAE;gBAClD2F,SAAS,EAAE,4FACTnH,UAAU,CAAC9C,QAAQ,KAAK,YAAY,GAChC,kCAAkC,GAClC,qDAAqD,EACxD;gBAAAkK,QAAA,gBAEH7K,OAAA,CAACJ,UAAU;kBAACgL,SAAS,EAAC;gBAAS;kBAAAE,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAE,CAAC,eAClCjL,OAAA;kBAAA6K,QAAA,EAAM;gBAAe;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAM,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACtB,CAAC,eACTjL,OAAA;gBACEkL,OAAO,EAAEA,CAAA,KAAMjG,oBAAoB,CAAC,QAAQ,CAAE;gBAC9C2F,SAAS,EAAE,4FACTnH,UAAU,CAAC9C,QAAQ,KAAK,QAAQ,GAC5B,kCAAkC,GAClC,qDAAqD,EACxD;gBAAAkK,QAAA,gBAEH7K,OAAA,CAACH,IAAI;kBAAC+K,SAAS,EAAC;gBAAS;kBAAAE,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAE,CAAC,eAC5BjL,OAAA;kBAAA6K,QAAA,EAAM;gBAAW;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAM,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAClB,CAAC,eACTjL,OAAA;gBACEkL,OAAO,EAAEA,CAAA,KAAMjG,oBAAoB,CAAC,WAAW,CAAE;gBACjD2F,SAAS,EAAE,4FACTnH,UAAU,CAAC9C,QAAQ,KAAK,WAAW,GAC/B,kCAAkC,GAClC,qDAAqD,EACxD;gBAAAkK,QAAA,gBAEH7K,OAAA,CAACF,MAAM;kBAAC8K,SAAS,EAAC;gBAAS;kBAAAE,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAE,CAAC,eAC9BjL,OAAA;kBAAA6K,QAAA,EAAM;gBAAc;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAM,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACrB,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACN;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH,CAAC,eACNjL,OAAA;YAAG4K,SAAS,EAAC,wCAAwC;YAAAC,QAAA,EAAC;UAEtD;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAG,CAAC,eACJjL,OAAA;YAAK4K,SAAS,EAAC,kBAAkB;YAAAC,QAAA,eAC/B7K,OAAA;cAAK4K,SAAS,EAAC,+FAA+F;cAAAC,QAAA,gBAC5G7K,OAAA;gBAAK4K,SAAS,EAAC;cAAqD;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAM,CAAC,EAC1ExH,UAAU,CAAC9C,QAAQ,KAAK,YAAY,GAAG,iBAAiB,GAAG8C,UAAU,CAAC9C,QAAQ,KAAK,QAAQ,GAAG,aAAa,GAAG,gBAAgB;YAAA;cAAAmK,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC5H;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACH,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC,eACNjL,OAAA;UAAK4K,SAAS,EAAC,6DAA6D;UAAAC,QAAA,eAC1E7K,OAAA,CAACV,WAAW;YAAC+L,MAAM,EAAE5H;UAAW;YAAAqH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAE;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAChC,CAAC,eACNjL,OAAA;UAAK4K,SAAS,EAAC,kBAAkB;UAAAC,QAAA,eACjC7K,OAAA;YAAK4K,SAAS,EAAC,wCAAwC;YAAAC,QAAA,gBACrD7K,OAAA;cAAK4K,SAAS,EAAC,mGAAmG;cAAAC,QAAA,gBAChH7K,OAAA;gBAAK4K,SAAS,EAAC;cAAiD;gBAAAE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAM,CAAC,eACvEjL,OAAA;gBAAM4K,SAAS,EAAC,uBAAuB;gBAAAC,QAAA,EAAC;cAAmB;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAM,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC/D,CAAC,EACLtH,aAAa,CAACY,MAAM,GAAG,CAAC,iBACvBvE,OAAA;cAAK4K,SAAS,EAAC,mGAAmG;cAAAC,QAAA,gBAChH7K,OAAA;gBAAM4K,SAAS,EAAC,uBAAuB;gBAAAC,QAAA,EAAC;cAAQ;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAM,CAAC,eACvDjL,OAAA;gBAAM4K,SAAS,EAAC,mCAAmC;gBAAAC,QAAA,GAChDhH,YAAY,GAAG,CAAC,EAAC,KAAG,EAACF,aAAa,CAACY,MAAM;cAAA;gBAAAuG,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACtC,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACJ,CACN,eACDjL,OAAA;cACEkL,OAAO,EAAErF,kBAAmB;cAC5BsF,QAAQ,EAAElH,YAAa;cACvB2G,SAAS,EAAE,gEACT3G,YAAY,GACR,8CAA8C,GAC9C,oDAAoD,EACvD;cAAA4G,QAAA,EAEF5G,YAAY,GAAG,aAAa,GAAG;YAAe;cAAA6G,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACzC,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACN;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACD,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV;AAAC/K,EAAA,CAzgBQD,GAAG;AAAAsL,EAAA,GAAHtL,GAAG;AA2gBZ,eAAeA,GAAG;AAAC,IAAAsL,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}