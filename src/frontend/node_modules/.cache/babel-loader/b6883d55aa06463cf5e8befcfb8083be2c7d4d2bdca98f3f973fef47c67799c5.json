{"ast":null,"code":"import React,{useRef,useState}from'react';import{X,Image as ImageIcon}from'lucide-react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ImageUpload=_ref=>{let{label,imageData,onChange,required=false}=_ref;const fileInputRef=useRef(null);const[isDragging,setIsDragging]=useState(false);const handleFileSelect=file=>{if(!file.type.startsWith('image/')){alert('Please select an image file');return;}if(file.size>5*1024*1024){// 5MB limit\nalert('File size must be less than 5MB');return;}const reader=new FileReader();reader.onload=e=>{var _e$target;const result=(_e$target=e.target)===null||_e$target===void 0?void 0:_e$target.result;onChange(result);};reader.readAsDataURL(file);};const handleFileInputChange=e=>{var _e$target$files;const file=(_e$target$files=e.target.files)===null||_e$target$files===void 0?void 0:_e$target$files[0];if(file){handleFileSelect(file);}};const handleDrop=e=>{e.preventDefault();setIsDragging(false);const file=e.dataTransfer.files[0];if(file){handleFileSelect(file);}};const handleDragOver=e=>{e.preventDefault();setIsDragging(true);};const handleDragLeave=e=>{e.preventDefault();setIsDragging(false);};const handleRemove=()=>{onChange('');};return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"form-label\",children:[label,required&&/*#__PURE__*/_jsx(\"span\",{className:\"text-red-500 ml-1\",children:\"*\"})]}),imageData?/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"border border-gray-200 rounded-lg p-4 bg-gray-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(\"img\",{src:imageData,alt:\"Preview\",className:\"w-12 h-12 object-cover rounded border\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 min-w-0\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-700\",children:\"Image uploaded\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500\",children:\"Click to replace\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleRemove,className:\"p-1 hover:bg-red-100 rounded text-red-600\",title:\"Remove image\",children:/*#__PURE__*/_jsx(X,{className:\"w-4 h-4\"})})]})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{var _fileInputRef$current;return(_fileInputRef$current=fileInputRef.current)===null||_fileInputRef$current===void 0?void 0:_fileInputRef$current.click();},className:\"mt-2 btn-secondary text-sm w-full\",children:\"Replace Image\"})]}):/*#__PURE__*/_jsx(\"div\",{className:\"image-upload \".concat(isDragging?'dragover':''),onDrop:handleDrop,onDragOver:handleDragOver,onDragLeave:handleDragLeave,onClick:()=>{var _fileInputRef$current2;return(_fileInputRef$current2=fileInputRef.current)===null||_fileInputRef$current2===void 0?void 0:_fileInputRef$current2.click();},children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(ImageIcon,{className:\"w-8 h-8 mx-auto text-gray-400 mb-2\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 mb-1\",children:\"Click to upload or drag and drop\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500\",children:\"PNG, JPG, JPEG up to 5MB\"})]})}),/*#__PURE__*/_jsx(\"input\",{ref:fileInputRef,type:\"file\",accept:\"image/*\",onChange:handleFileInputChange,className:\"hidden\"})]});};export default ImageUpload;","map":{"version":3,"names":["React","useRef","useState","X","Image","ImageIcon","jsx","_jsx","jsxs","_jsxs","ImageUpload","_ref","label","imageData","onChange","required","fileInputRef","isDragging","setIsDragging","handleFileSelect","file","type","startsWith","alert","size","reader","FileReader","onload","e","_e$target","result","target","readAsDataURL","handleFileInputChange","_e$target$files","files","handleDrop","preventDefault","dataTransfer","handleDragOver","handleDragLeave","handleRemove","className","children","src","alt","onClick","title","_fileInputRef$current","current","click","concat","onDrop","onDragOver","onDragLeave","_fileInputRef$current2","ref","accept"],"sources":["/Users/shawnlee/Documents/GitHub/passes-mktr/src/frontend/src/components/editor/ImageUpload.tsx"],"sourcesContent":["import React, { useRef, useState } from 'react';\nimport { Upload, X, Image as ImageIcon } from 'lucide-react';\n\ninterface ImageUploadProps {\n  label: string;\n  imageData: string | null;\n  onChange: (imageData: string) => void;\n  required?: boolean;\n}\n\nconst ImageUpload: React.FC<ImageUploadProps> = ({ label, imageData, onChange, required = false }) => {\n  const fileInputRef = useRef<HTMLInputElement>(null);\n  const [isDragging, setIsDragging] = useState(false);\n\n  const handleFileSelect = (file: File) => {\n    if (!file.type.startsWith('image/')) {\n      alert('Please select an image file');\n      return;\n    }\n\n    if (file.size > 5 * 1024 * 1024) { // 5MB limit\n      alert('File size must be less than 5MB');\n      return;\n    }\n\n    const reader = new FileReader();\n    reader.onload = (e) => {\n      const result = e.target?.result as string;\n      onChange(result);\n    };\n    reader.readAsDataURL(file);\n  };\n\n  const handleFileInputChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const file = e.target.files?.[0];\n    if (file) {\n      handleFileSelect(file);\n    }\n  };\n\n  const handleDrop = (e: React.DragEvent) => {\n    e.preventDefault();\n    setIsDragging(false);\n    \n    const file = e.dataTransfer.files[0];\n    if (file) {\n      handleFileSelect(file);\n    }\n  };\n\n  const handleDragOver = (e: React.DragEvent) => {\n    e.preventDefault();\n    setIsDragging(true);\n  };\n\n  const handleDragLeave = (e: React.DragEvent) => {\n    e.preventDefault();\n    setIsDragging(false);\n  };\n\n  const handleRemove = () => {\n    onChange('');\n  };\n\n  return (\n    <div className=\"space-y-2\">\n      <label className=\"form-label\">\n        {label}\n        {required && <span className=\"text-red-500 ml-1\">*</span>}\n      </label>\n      \n      {imageData ? (\n        <div className=\"relative\">\n          <div className=\"border border-gray-200 rounded-lg p-4 bg-gray-50\">\n            <div className=\"flex items-center space-x-3\">\n              <img\n                src={imageData}\n                alt=\"Preview\"\n                className=\"w-12 h-12 object-cover rounded border\"\n              />\n              <div className=\"flex-1 min-w-0\">\n                <p className=\"text-sm font-medium text-gray-700\">Image uploaded</p>\n                <p className=\"text-xs text-gray-500\">Click to replace</p>\n              </div>\n              <button\n                onClick={handleRemove}\n                className=\"p-1 hover:bg-red-100 rounded text-red-600\"\n                title=\"Remove image\"\n              >\n                <X className=\"w-4 h-4\" />\n              </button>\n            </div>\n          </div>\n          <button\n            onClick={() => fileInputRef.current?.click()}\n            className=\"mt-2 btn-secondary text-sm w-full\"\n          >\n            Replace Image\n          </button>\n        </div>\n      ) : (\n        <div\n          className={`image-upload ${isDragging ? 'dragover' : ''}`}\n          onDrop={handleDrop}\n          onDragOver={handleDragOver}\n          onDragLeave={handleDragLeave}\n          onClick={() => fileInputRef.current?.click()}\n        >\n          <div className=\"text-center\">\n            <ImageIcon className=\"w-8 h-8 mx-auto text-gray-400 mb-2\" />\n            <p className=\"text-sm text-gray-600 mb-1\">\n              Click to upload or drag and drop\n            </p>\n            <p className=\"text-xs text-gray-500\">\n              PNG, JPG, JPEG up to 5MB\n            </p>\n          </div>\n        </div>\n      )}\n\n      <input\n        ref={fileInputRef}\n        type=\"file\"\n        accept=\"image/*\"\n        onChange={handleFileInputChange}\n        className=\"hidden\"\n      />\n    </div>\n  );\n};\n\nexport default ImageUpload;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}