{"ast":null,"code":"import React,{useState,useRef,useEffect}from'react';import{ChromePicker}from'react-color';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ColorPicker=_ref=>{let{label,color,onChange}=_ref;const[showPicker,setShowPicker]=useState(false);const[isValid,setIsValid]=useState(true);const pickerRef=useRef(null);// Close picker when clicking outside\nuseEffect(()=>{const handleClickOutside=event=>{if(pickerRef.current&&!pickerRef.current.contains(event.target)){setShowPicker(false);}};if(showPicker){document.addEventListener('mousedown',handleClickOutside);return()=>document.removeEventListener('mousedown',handleClickOutside);}},[showPicker]);const handleColorChange=colorResult=>{const rgbColor=\"rgb(\".concat(colorResult.rgb.r,\", \").concat(colorResult.rgb.g,\", \").concat(colorResult.rgb.b,\")\");onChange(rgbColor);};const handleInputChange=value=>{const rgbRegex=/^rgb\\(\\s*\\d+\\s*,\\s*\\d+\\s*,\\s*\\d+\\s*\\)$/;const isValidColor=rgbRegex.test(value);setIsValid(isValidColor);if(isValidColor){onChange(value);}};const parseRgbColor=rgbString=>{const match=rgbString.match(/rgb\\((\\d+),\\s*(\\d+),\\s*(\\d+)\\)/);if(match){return{r:parseInt(match[1]),g:parseInt(match[2]),b:parseInt(match[3])};}return{r:255,g:255,b:255};};return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:label}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowPicker(!showPicker),className:\"color-picker\",style:{backgroundColor:color},title:\"Click to change color\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:color,onChange:e=>handleInputChange(e.target.value),className:\"form-input flex-1 \".concat(!isValid?'border-red-500 focus:border-red-500':''),placeholder:\"rgb(r, g, b)\"}),!isValid&&/*#__PURE__*/_jsx(\"span\",{className:\"text-red-500 text-xs\",children:\"Invalid format\"})]}),showPicker&&/*#__PURE__*/_jsx(\"div\",{ref:pickerRef,className:\"absolute z-10 mt-2\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white border border-gray-200 rounded-lg shadow-lg p-2\",children:[/*#__PURE__*/_jsx(ChromePicker,{color:parseRgbColor(color),onChange:handleColorChange,disableAlpha:true}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-2 flex justify-end\",children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowPicker(false),className:\"btn-secondary text-sm\",children:\"Close\"})})]})})]});};export default ColorPicker;","map":{"version":3,"names":["React","useState","useRef","useEffect","ChromePicker","jsx","_jsx","jsxs","_jsxs","ColorPicker","_ref","label","color","onChange","showPicker","setShowPicker","isValid","setIsValid","pickerRef","handleClickOutside","event","current","contains","target","document","addEventListener","removeEventListener","handleColorChange","colorResult","rgbColor","concat","rgb","r","g","b","handleInputChange","value","rgbRegex","isValidColor","test","parseRgbColor","rgbString","match","parseInt","className","children","onClick","style","backgroundColor","title","type","e","placeholder","ref","disableAlpha"],"sources":["/Users/shawnlee/Documents/GitHub/passes-mktr/src/frontend/src/components/editor/ColorPicker.tsx"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\nimport { ChromePicker } from 'react-color';\n\ninterface ColorPickerProps {\n  label: string;\n  color: string;\n  onChange: (color: string) => void;\n}\n\nconst ColorPicker: React.FC<ColorPickerProps> = ({ label, color, onChange }) => {\n  const [showPicker, setShowPicker] = useState(false);\n  const [isValid, setIsValid] = useState(true);\n  const pickerRef = useRef<HTMLDivElement>(null);\n\n  // Close picker when clicking outside\n  useEffect(() => {\n    const handleClickOutside = (event: MouseEvent) => {\n      if (pickerRef.current && !pickerRef.current.contains(event.target as Node)) {\n        setShowPicker(false);\n      }\n    };\n\n    if (showPicker) {\n      document.addEventListener('mousedown', handleClickOutside);\n      return () => document.removeEventListener('mousedown', handleClickOutside);\n    }\n  }, [showPicker]);\n\n  const handleColorChange = (colorResult: any) => {\n    const rgbColor = `rgb(${colorResult.rgb.r}, ${colorResult.rgb.g}, ${colorResult.rgb.b})`;\n    onChange(rgbColor);\n  };\n\n  const handleInputChange = (value: string) => {\n    const rgbRegex = /^rgb\\(\\s*\\d+\\s*,\\s*\\d+\\s*,\\s*\\d+\\s*\\)$/;\n    const isValidColor = rgbRegex.test(value);\n    setIsValid(isValidColor);\n    \n    if (isValidColor) {\n      onChange(value);\n    }\n  };\n\n  const parseRgbColor = (rgbString: string) => {\n    const match = rgbString.match(/rgb\\((\\d+),\\s*(\\d+),\\s*(\\d+)\\)/);\n    if (match) {\n      return {\n        r: parseInt(match[1]),\n        g: parseInt(match[2]),\n        b: parseInt(match[3])\n      };\n    }\n    return { r: 255, g: 255, b: 255 };\n  };\n\n  return (\n    <div className=\"space-y-2\">\n      <label className=\"form-label\">{label}</label>\n      <div className=\"flex items-center space-x-2\">\n        <button\n          onClick={() => setShowPicker(!showPicker)}\n          className=\"color-picker\"\n          style={{ backgroundColor: color }}\n          title=\"Click to change color\"\n        />\n        <input\n          type=\"text\"\n          value={color}\n          onChange={(e) => handleInputChange(e.target.value)}\n          className={`form-input flex-1 ${!isValid ? 'border-red-500 focus:border-red-500' : ''}`}\n          placeholder=\"rgb(r, g, b)\"\n        />\n        {!isValid && (\n          <span className=\"text-red-500 text-xs\">Invalid format</span>\n        )}\n      </div>\n      \n      {showPicker && (\n        <div ref={pickerRef} className=\"absolute z-10 mt-2\">\n          <div className=\"bg-white border border-gray-200 rounded-lg shadow-lg p-2\">\n            <ChromePicker\n              color={parseRgbColor(color)}\n              onChange={handleColorChange}\n              disableAlpha\n            />\n            <div className=\"mt-2 flex justify-end\">\n              <button\n                onClick={() => setShowPicker(false)}\n                className=\"btn-secondary text-sm\"\n              >\n                Close\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default ColorPicker;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}